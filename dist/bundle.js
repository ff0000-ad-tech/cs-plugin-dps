!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=34)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.NetUtils=t.TextUtils=t.ImageUtils=t.ArrayUtils=t.ColorUtils=t.MathUtils=t.ObjectUtils=t.DcsUtils=t.MotionUtils=t.LocationUtils=void 0;var o=a(n(50));t.LocationUtils=o.default;var i=a(n(51));t.MotionUtils=i.default;var l=a(n(52));t.MonetUtils=l.default;var s=r(n(53));t.DcsUtils=s;var u=r(n(54));t.ObjectUtils=u;var c=r(n(55));t.MathUtils=c;var d=r(n(56));t.ColorUtils=d;var f=r(n(57));t.ArrayUtils=f;var p=r(n(58));t.ImageUtils=p;var h=r(n(59));t.TextUtils=h;var g=r(n(65));t.NetUtils=g},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Vector2D=t.SimpleNoise2D=t.ParentTransform=t.Matrix3D=t.Matrix2D=void 0;var a=r(n(25));t.Matrix2D=a.default;var o=r(n(68));t.Matrix3D=o.default;var i=r(n(69));t.ParentTransform=i.default;var l=r(n(70));t.SimpleNoise2D=l.default;var s=r(n(26));t.Vector2D=s.default},function(e,t,n){"use strict";t.__esModule=!0,t.mix=void 0;var r=function(e){return new a(e)};t.mix=r;var a=function(){function e(e){this.superclass=e}return e.prototype.with=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)},e}()},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.__esModule=!0,t.LoaderBase=void 0;var o=function(e){return function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},l=a(t);return l.onComplete=i.onComplete||function(){},l.onFail=i.onFail||function(){},l.onProgress=i.onProgress||function(){},l.name=i.name||"",l.scope=i.scope||l,l.dataRaw,l.cacheBuster=i.cacheBuster||!1,l._failCalled=!1,t}return r(t,e),t.prototype._handleFail=function(){var e=this;e._failCalled||(e._failCalled=!0,e.onFail.call(e.scope,e),console.log('Loader "'+e.name+'" Fail:',e.url))},t}(e)};t.LoaderBase=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e,t){var n=e.value+t,r=n>0?Math.floor(n):Math.ceil(n),a=n%1*60;return a=n>0?Math.floor(a):Math.ceil(a),(n<0?"-":"+")+i.TextUtils.pad(Math.abs(r),2)+":"+i.TextUtils.pad(Math.abs(a),2)}var n=new l.default;e=e||{};var r,s=e.datetime;if(Array.isArray(s)&&(s=e.datetime[0],r=e.datetime[1]),"string"==typeof s){s=s.replace(/(\T|\s)/g,"T");var u=s.match(/(\+|\-)([0-9]{2})\:([0-9]{2})/g);if(u)if("+00:00"==(u=u[0]))r=n.UTC;else{var c=n.getDLS(new Date(s)),d=function(e,t){var n=e.split(":");return+n[0]+ +n[1]/60-t}(u,c);r=n.get(d)}else if(r){r=n.get(r);var f=n.getDLS(new Date(s));s+=t(r,f)}}e.outputTimezone?r=n.get(e.outputTimezone):adParams.defaultTimezone&&(r=n.get(adParams.defaultTimezone));var p=new Date(s);return Object.defineProperties(p,{outputTimezone:{get:function(){return r||n.UTC},set:function(e){r=n.get(e)}}}),p.clone=function(e){return e=e||p.outputTimezone,new a({datetime:p,outputTimezone:e})},p.getHoursIn=function(e,t){var n=p.getIn(e),r=n.getHours();return 1!=t&&r>12&&(r%=12),r},p.format=function(e,t){return o.default.format(p,e,t)},p.getIn=function(e){var r=p.toISOString().split(".")[0],a=n.getDLS(p),i=t(n._trueLOCAL,a),l=n.get(e||p.outputTimezone),s=new Date(r+i),u=n.getDLS(s);return l.label==n.UTC.label&&(u=0),o.default.adjust(s,{hour:l.value+u})},p.print=function(e){var t=p.toFullDateTime(e);return console.log(t),t},p.toFullDateTime=function(e){return e=e||p.outputTimezone,p.getIn(e).toString().split("GMT")[0]+e.label},p.toSimpleDate=function(e){var t=p.getIn(e);return t.getMonth()+1+"/"+t.getDate()},p.toDate=function(e){var t=p.getIn(e);return p.toSimpleDate(e)+"/"+t.getFullYear()},p.toDateTime=function(e){return p.toDate(e)+" "+p.toTime(e)},p.toSimpleDateTime=function(){return p.toSimpleDate()+" "+p.toTime()},p.toTime=function(e){return p.toSimpleTime(e)+" "+p.toMeridiem(e)},p.toSimpleTime=function(e,t){var n=p.getIn(e),r=p.getHoursIn(e,t);return 0==r&&(r=12),t&&(r=i.TextUtils.pad(r,2)),r+":"+i.TextUtils.pad(n.getMinutes(),2)},p.toMeridiem=function(e,t){var n=e||p.outputTimezone;return(p.getIn(n).getHours()>=12?"pm":"am")+(1==t?"/"+n.abbr:"")},p.toShortestTime=function(e,t){return p.toSimpleTime(e,t).replace(/:00$/g,"")},p.toDateTimeISO=function(e){var t=p.toDate(e),n=t.split("/");return n[2]+"-"+i.TextUtils.pad(n[0],2)+"-"+i.TextUtils.pad(n[1],2)+"T"+p.toSimpleTime(e,!0)+":00"},p._isTzDate=!0,p}t.__esModule=!0,t.default=void 0;var o=r(n(6)),i=n(0),l=r(n(12)),s=a;t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),a=(function(e){e&&e.__esModule}(n(5)),new function(){var e=this;e.MS_PER_SECOND=1e3,e.MS_PER_MINUTE=6e4,e.MS_PER_HOUR=36e5,e.MS_PER_DAY=864e5,e.MS_PER_WEEK=6048e5,e.adjust=function(t,n){var r;r=t._isTzDate?t.clone():new Date(t);for(var a in n){var o="MS_PER_"+a.toUpperCase(),i=e[o],l=n[a]*i;r.setTime(r.getTime()+l)}return r},e.getNumericSuffixFor=function(t,n){var t=t.toString(),r=t.slice(t.length-1),a=e.getLabels(),o=a.TH;switch(r){case"1":"11"!=t&&(o=a.ST);break;case"2":"12"!=t&&(o=a.ND);break;case"3":"13"!=t&&(o=a.RD)}return(n?t:"")+o},e.format=function(t,n,a){a=a||{};var o=a.inTimezone||t.outputTimezone,i=a.language,l=t.getIn(o);console.log(".format( '"+n+"' )");var s=e.getLabels(i),u=l.getMonth(),c=l.getHours(),d=l.getMinutes();return n.replace(/\$\{(.*?)\}/g,function(t,n){var a,i=n,f=0,p=!1,h=!0;switch(n.replace(/(.+)(\^)/,function(e,t){n=t,p=!0,console.log("\t\t\t",e,t)}),2==n.length&&n.replace(/(?![Yo])([a-zA-Z]).*?\1/,function(e,t){n=t.substr(0,1),console.log("\t\t",e,t,n),a=2}),n){case"YY":f=-2;case"YYYY":i=(""+l.getFullYear()).slice(f);break;case"M":i=u+1;break;case"MMM":i=s.MONTHS_ABRV[u];break;case"MMMM":i=s.MONTHS_FULL[u];break;case"D":i=l.getDate();break;case"Do":i=e.getNumericSuffixFor(l.getDate(),!0);break;case"DDD":i=s.WEEKDAYS_ABRV[l.getDay()];break;case"DDDD":i=s.WEEKDAYS_FULL[l.getDay()];break;case"t":h=d>0;case"T":i=c,h&&(i+=":"+r.TextUtils.pad(d,2));break;case"H":i=c;break;case"h":i=c%12,0==i&&(i=12);break;case"m":i=d;break;case"s":i=l.getSeconds();break;case"a":i=c>=12?"pm":"am";break;case"z":i=o.abbr}return a&&(i=r.TextUtils.pad(i,a)),p&&(i=i.toUpperCase()),console.log("\t",t,n,i),i})},e.language="english";var t={english:{MONTHS_FULL:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_ABRV:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],MONTHS_EXCP:["","","","","","","","","sept","","",""],WEEKDAYS_FULL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_ABRV:["sun","mon","tue","wed","thu","fri","sat"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],ST:"st",ND:"nd",RD:"rd",TH:"th",OF:"of",TOMORROW:"Tomorrow",TODAY:"Today",TONIGHT:"Tonight",NOW:"Live Now",PAST:"Past"},spanish:{MONTHS_FULL:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],MONTHS_ABRV:["enero","feb","marzo","abr","mayo","jun","jul","agosto","sept","oct","nov","dic"],MONTHS_EXCP:["","","","","","","","","sep","","",""],WEEKDAYS_FULL:["domingo","lunes","martes","mi&#201;rcoles","jueves","viernes","s&#193;bado"],WEEKDAYS_ABRV:["dom","lun","mar","mi&#201;r","jue","vier","s&#193;b"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],ST:"ro",ND:"ndo",RD:"rd",TH:"th",OF:"de",TOMORROW:"ma&#209;ana",TODAY:"hoy",TONIGHT:"esta noche",NOW:"en vivo",PAST:"past"}};e.monthsFull="MONTHS_FULL",e.monthsAbrv="MONTHS_ABRV",e.weekdaysFull="WEEKDAYS_FULL",e.weekdaysAbrv="WEEKDAYS_ABRV",e.getLabels=function(n){return t[n||e.language]}}),o=a;t.default=o},function(e,t,n){"use strict";(function(e){function n(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return alert("XMLHttpRequest not supported"),null}function r(e){var t=e.lastIndexOf("."),n=e.lastIndexOf("/")+1;return n>t&&(t=void 0),e.substring(n,t)}function a(e){return e.substring(e.lastIndexOf("/")+1,e.indexOf("."))}function o(e){e=e||"";var t=e.indexOf("?");t>-1&&(e=e.substr(0,t));var n=e.match(/[^\\]*\.(\w+)$/),r=e.match(/image\/(jpeg|jpg|png)/);return n?n[1]:r?r[1]:"unknown"}function i(t,n,r){var a=l(t),o=e.matchProtocolTo(a+_file);return r&&(o=r(o)),url}function l(e){return e?e.replace(/\/?$/,"/"):""}function s(e){if("string"==typeof e)return e;var t="";for(var n in e)console.log("      prop =",n),t+=n+"="+e[n]+"&";return t.substr(0,t.length-1)}t.__esModule=!0,t.createXMLHttpRequest=n,t.getFileName=r,t.getFontName=a,t.getFileType=o,t.getFullUrl=i,t.getUrlPrepend=l,t.getParamsFromData=s}).call(t,n(1))},function(e,t,n){"use strict";(function(e){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.__esModule=!0,t.LoaderSource=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7)),i=function(t){return function(t){function n(){for(var n,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];n=t.call.apply(t,[this].concat(i))||this;var s=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},u=a(n);return u.url=e.matchProtocolTo(arguments[0]||""),s.platformGetUrl&&(u.platformGetUrl=s.platformGetUrl,u.url=s.platformGetUrl(u.url)),u.fileName=void 0===s.id?o.getFileName(u.url):s.id,u.fileType=s.fileType||o.getFileType(u.url),n}return r(n,t),n}(t)};t.LoaderSource=i}).call(t,n(1))},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}t.__esModule=!0,t.Markup=t.Styles=t.Align=t.Clamp=t.Effects=t.Ratio=t.FullScreen=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.FullScreen=a.default;var o=r(n(61));t.Ratio=o;var i=r(n(62));t.Effects=i;var l=r(n(63));t.Clamp=l;var s=r(n(64));t.Align=s;var u=r(n(10));t.Styles=u;var c=r(n(11));t.Markup=c},function(e,t,n){"use strict";function r(e,t){e=s.get(e);var n={};if(arguments.length>2)for(var r=1;r<arguments.length;r+=2)n=u.CssManager.conformCssKeyValue(arguments[r],arguments[r+1]);else n="string"==typeof arguments[1]?u.CssManager.conformCssString(arguments[1],e):u.CssManager.conformCssObject(arguments[1],e);u.CssManager.apply(e,n)}function a(e,t){e=s.get(e);var n;if("x"==t||"y"==t){var r=e.style[u.CssManager.getDeviceKey("transform")],a=r.replace(/[\s\(\)matrix]/g,"").split(",");n=a.length<6?0:+a["x"==t?4:5]}else{n=window.getComputedStyle(e,null).getPropertyValue(t).replace(/px/,""),isNaN(n)||(n=parseInt(n,10))}return n}function o(e,t){if(!document.getElementById(e)){var n=document.createElement("style");n.type="text/css",n.id=e;var r=2===arguments.length?t:"";if(arguments.length>2)for(var a=0;a<arguments.length-1;a+=2){var o=arguments[a+1].replace(/\,\s+/g,",");r+=o,r+=" { "+(arguments[a+2]||"")+" }\n"}n.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(n)}}function i(e,t){for(var n=s.get(e),r=0;r<arguments.length-1;r++)n.classList.add(arguments[r+1])}function l(e,t){s.get(e).classList.remove(t)}t.__esModule=!0,t.setCss=r,t.getCss=a,t.injectStylesheet=o,t.addClass=i,t.removeClass=l;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(11)),u=n(14)},function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)return e;switch(t=t||document,e=e.trim(),e[0]){case"#":return t.getElementById(e.slice(1));case".":return t.getElementsByClassName(e.slice(1));case"<":return t.getElementsByTagName(e.slice(1,e.length-1));default:return t.getElementById(e)}}function a(e,t){return r(e,t)}function o(e){var t=r(e);for(console.log("removeChildren ("+e+")");t.firstChild;)t.removeChild(t.firstChild)}function i(e){var t=document.createElement("iFrame");return t.id=e.id,t.width=e.css.width,t.height=e.css.height,delete e.css.width,delete e.css.height,t.setAttribute("src",e.source),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen",""),applyContainerCss(t,e),e.target.appendChild(t),t}function l(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height",e.height),t.setAttribute("width",e.width);var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e.d),n.setAttribute("fill",e.fill),void 0!=e.stroke&&n.setAttribute("stroke",e.stroke),void 0!=e.strokeWidth&&n.setAttribute("stroke-width",e.strokeWidth),t.appendChild(n),applyContainerCss(t,e),e.target.appendChild(t),t}function s(e){if(void 0===e.elements.length)e.method.call(e.scope,e.elements,e.methodArg);else{var t;for(t=0;t<e.elements.length;t++){var n=e.elements[t];e.method.call(e.scope,n,e.methodArg)}}}t.__esModule=!0,t.get=r,t.getElement=a,t.removeChildren=o,t.addiFrame=i,t.addSvg=l,t.applyToElements=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function e(){if(r)return r;r=this;var t,n=["LOCAL","UTC","EST","CST","MST","PST","AKST","AZ","HST","MEX","AEST","AEST2"];r._trueLOCAL,r._tzDiff=[0,0,0],Object.defineProperties(r,{LOCAL:{get:function(){if(void 0==t){var e=new Date,n=r.getDLS(e),a=-e.getTimezoneOffset()/60-n;t={label:"Local",abbr:"local",value:a};var o=r.get(t.value);if(isNaN(o))t.label=o.label,t.abbr=o.abbr;else{var i=e.toTimeString(),l=i.split("(")[1];l=l.substr(0,l.length-1),l=l.replace(/[a-z\.\s]/g,""),t.label=t.abbr=l,console.log("\t\t\t",t)}r._trueLOCAL=t}return t},set:function(n){var a=new Date,o=a.getTimezoneOffset(),i=Math.floor(o/60),l=o%60,s=Math.floor(n.value),u=n.value%1*60,c=-(s+i),d=-(u+l),f=e.getDLS(a);0==n.value?f=0:n.value>0&&(c=24+c),r._tzDiff[0]=c-f,r._tzDiff[1]=d,t=n,console.log("\tTimezone.LOCAL is now:",n)}},UTC:{get:function(){return{label:"UTC",abbr:"utc",value:0}}},EST:{get:function(){return{label:"US/Eastern",abbr:"et",value:-5}}},CST:{get:function(){return{label:"US/Central",abbr:"ct",value:-6}}},MST:{get:function(){return{label:"US/Mountain",abbr:"mt",value:-7}}},PST:{get:function(){return{label:"US/Pacific",abbr:"pt",value:-8}}},AKST:{get:function(){return{label:"US/Alaska",abbr:"akst",value:-9}}},AZ:{get:function(){return{label:"US/Arizona",abbr:"az",value:-7}}},HST:{get:function(){return{label:"US/Hawaii",abbr:"hst",value:-10}}},MEX:{get:function(){return{label:"America/Mexico_City",abbr:"mx",value:-6}}},AEST:{get:function(){return{label:"Australia/Brisbane",abbr:"aest",value:10}}},AEST2:{get:function(){return{label:"Australia/Sydney",abbr:"aest",value:10}}}}),r.get=function(e){if(void 0==e)return r.LOCAL;if("string"==typeof e){for(var t=0;t<n.length;t++)if(r[n[t]].label==e)return r[n[t]];return null}if("number"==typeof e&&isFinite(e)){for(var t=0;t<n.length;t++)if(r[n[t]].value===e&&"Local"!=r[n[t]].label)return r[n[t]];return{label:"Local",abbr:"Local",value:e}}return e},r.getDLS=function(e){var t=new Date("2011","01","01"),n=new Date("2011","07","01"),r=t.getTimezoneOffset(),a=n.getTimezoneOffset(),o=e.getTimezoneOffset();return o==a&&o!=r?1:0}},o=a;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.get=t.set=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(80)),a={debug:!1,imagePaths:["img1.jpg","img2.png","img3.gif"],loadedImageDict:[],emitterDataFiles:[],selectedEmitterDataFile:"EmitterData.js",emitterDataPath:"js",emitterDataContent:r.default,imagePath:"images",adPath:"",adWidth:"",adHeight:"",fps:60},o=function(e,t){a[e]=t};t.set=o;var i=function(e){return a[e]};t.get=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ExpandableDcs=t.Expandable=t.SheetManager=t.ImageManager=t.CssManager=t.Core=void 0;var a=r(n(42));t.Core=a.default;var o=r(n(24));t.CssManager=o.default;var i=r(n(27));t.ImageManager=i.default;var l=r(n(71));t.SheetManager=l.default;var s=r(n(28));t.Expandable=s.default;var u=r(n(76));t.ExpandableDcs=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.StaticGenerator=t.Velvet=t.Device=void 0;var a=r(n(43));t.Device=a.default;var o=r(n(44));t.Velvet=o.default;var i=r(n(67));t.StaticGenerator=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.__esModule=!0,t.LoaderUtils=t.default=void 0;var i=n(3),l=n(4),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7));t.LoaderUtils=s;var u=r(n(45));t.ImageLoader=u.default;var c=r(n(46));t.InlineLoader=c.default;var d=r(n(47));t.DataLoader=d.default;var f=r(n(48));t.FontLoader=f.default;var p=function(){},h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},l=o(t);return l._queue={},l._total=0,l._active=!1,l._startedCount=0,l.prepend=i.prepend||"",l.platformGetUrl=i.platformGetUrl,l.fileType=i.fileType||null,l.content=[],l.crossOrigin=i.crossOrigin||void 0,l.add(arguments[0]),t}a(t,e);var n=t.prototype;return n.add=function(e){var n=this;if("string"==typeof e)n._addSingleLoad(e);else if(e instanceof Array)for(var r=0;r<e.length;r++)n._addSingleLoad(e[r]);else e instanceof t&&(e.content&&e.content[0]&&"fba"==e.content[0].fileType?n._addFbaSubLoads(e.content[0]):n._addSubLoad(e))},n.load=function(){var e=this;if(e._active=!0,e._total<=0)console.log('Loader "'+e.name+'" has NO assets to be loaded.');else{var n=!1,r="";for(var a in e._queue)if(!(e._queue[a]instanceof t)){n||(n=!0,r+='Loader "'+e.name+'" requesting:');var o=e._queue[a].fileName,i=e._queue[a].fileType,l=o.indexOf("."+i),s=l>-1?o:o+"."+i;r+="\n\t -> "+(e._queue[a].prepend||"")+s}n&&console.log(r)}e._startSingleLoad(0)},n.getAllContent=function(){function e(r){for(var a=0;a<r.length;a++)r[a]instanceof t?e(r[a].content):n.push(r[a])}var n=[];return e(this.content),n.length<1&&console.log("No Content found"),n},n.getAllContentRaw=function(){for(var e=this.getAllContent(),t=0;t<e.length;t++)e[t]=e[t].dataRaw;return e},n.getLoader=function(e){function n(a){for(var o=0;o<a.length;o++)a[o]instanceof t&&(!a[o]||a[o].name!==e&&a[o]!==e?n(a[o].content):r=a[o])}var r=null;return n(this.content),r||console.log("No Loader found of that name"),r},n._addSingleLoad=function(e,t){var n,r=this,a=t?t[1]:r.fileType||s.getFileType(e);switch(a){case"jpg":case"jpeg":case"gif":case"png":case"svg":n=u.default;break;case"ttf":case"woff":n=f.default;break;case"json":case"fba":case"bin":case"binary":n=d.default;break;default:n=c.default}var o=t?e:r.prepend+e,i=new n(o,{scope:r,platformGetUrl:r.platformGetUrl,onComplete:r._handleSingleLoadComplete,onFail:r._handleFail,fileType:a,cacheBuster:r.cacheBuster,crossOrigin:r.crossOrigin});t&&(i.fileName=t[0]),i.queueIndex=r._total,r._queue[r._total]=i,r._total++},n._addSubLoad=function(e){var t=this;e.onComplete=t._handleSingleLoadComplete.bind(t),e.onProgress=t._handleProgress.bind(t),e.onFail=t._handleFail,e.queueIndex=t._total,t._queue[t._total]=e,t._total++},n._addFbaSubLoads=function(e){var t=new Uint8Array(4),n=new Uint32Array(t.buffer),r=44,a=new Uint8Array(e.dataRaw,r,1)[0];r+=5;for(var o=0;o<a;o++){for(var i=new Uint8Array(e.dataRaw,r,4),l=4,s=0;s<4;s++)t[--l]=i[s];var u=n[0];r+=7;var c=String.fromCharCode(new Uint8Array(e.dataRaw,r++,1)),d=new Uint8Array(e.dataRaw,r+3,1),f=d[0]||0,p=new Uint8Array(e.dataRaw,r+4,f),h=String.fromCharCode.apply(String,p);f+=4;var g=new Uint8Array(e.dataRaw,r+f,u-f);r+=u+4;var m=h.split("."),b="f"==c?"application/x-font-ttf":"image/"+("svg"==m[1]?"svg+xml":m[1]),v=new Blob([g],{type:b}),_=URL.createObjectURL(v);this._addSingleLoad(_,m)}},n._startSingleLoad=function(e){var n=this,r=n._queue[e];0==n._total?n._handleComplete():e<n._total&&(r instanceof t||e<n._total-1&&n._startLoadTimeOut(++e),r.load())},n._startLoadTimeOut=function(e){var t=this;setTimeout(function(){t._startSingleLoad(e)},10)},n._handleSingleLoadComplete=function(e){var t=this;t.content[e.queueIndex]=e,delete t._queue[e.queueIndex],t._handleProgress(),void 0==e.url&&e.queueIndex<t._total-1&&t._startLoadTimeOut(e.queueIndex+1)},n._handleProgress=function(){for(var e=this,t=e.content.length,n=0,r=0;r<t;r++)e.content[r]&&n++;var a=n,o=0;n<e._total&&e._queue[n]&&(o=e._queue[n].progress/e._total||0),e.progress=a/e._total+o,e.rawProgress=n/e._total+o,e.onProgress.call(e.scope,e),n>=e._total&&e._handleComplete()},n._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)},t}((0,i.mix)(p).with(l.LoaderBase));t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(0),o=r(n(5)),i=r(n(6)),l=r(n(12)),s=function(){function e(){}return e.init=function(e){console.log("DateManager.init()");var t=a.NetUtils.getQueryParameterBy("date"),n="SYSTEM-DATE";if(this.Timezone.LOCAL,t?(this._currentDate=t,n="EXTERNAL-DATE"):!e.dateOverride||"staging"!=adParams.environmentId&&"debug"!=adParams.environmentId||(this._currentDate=e.dateOverride(),n="INTERNAL-DATE"),this._currentDate){var r=new o.default({datetime:this._currentDate});console.log("\t_currentDate set |",r.outputTimezone,"|",r,"|",r.toFullDateTime(),"|",r.outputTimezone);var l=r.outputTimezone,s=a.NetUtils.getQueryParameterBy("tz");s&&(l.label=l.abbr=s),this.Timezone.LOCAL=l}var u=a.NetUtils.getQueryParameterBy("ltz");u&&(adParams.defaultTimezone=u),console.log("-- CURRENT DATE "+Array(104).join("-")),console.log(""),console.log("    DATE-MODE: "+n),console.log(""),console.log("     Time for this unit is now assumed to be: "),console.log("      ",this.getNow().toFullDateTime()),console.log(""),u&&(console.log("     External default timezone is: "),console.log("      ",u),console.log("")),console.log(Array(120).join("-")),e.language&&(i.default.language=e.language)},e.getNow=function(){var e=this._currentDate;return void 0==e&&(e=(new Date).toISOString().split(".")[0]+"+00:00"),new o.default({datetime:e,outputTimezone:this.Timezone.LOCAL})},e.isPast=function(e,t){return void 0==t&&(t=this.getNow()),t.getTime()>=e.getTime()},e.getTimeDifference=function(e,t){var n=t.getTime()/1e3-e.getTime()/1e3;n<0&&(n=0);for(var r={day:n/86400,hour:n/3600%24,minute:n/60%60,second:n%60,output:""},o=["day","hour","minute","second"],i=0;i<4;i++)r.output+=a.TextUtils.pad(Math.floor(r[o[i]]),2),i<3&&(r.output+=":");return r},e}();Object.defineProperty(s,"Timezone",{configurable:!0,enumerable:!0,writable:!0,value:new l.default}),Object.defineProperty(s,"_currentDate",{configurable:!0,enumerable:!0,writable:!0,value:void 0});var u=s;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(0),o=n(2),i=r(n(19)),l=r(n(20)),s=0,u=function(e,t){var n=this;n.graphic=e,n.originalProperties=t||{},n.defaultProperties={},n.properties=n.originalProperties,n.setDefaultProperties=function(e){n.defaultProperties=e,n.properties=a.ObjectUtils.defaults(n.originalProperties,e,!0)},n.generateIndividualProperties=function(){var e=i.default,t=function(t){return e.randomNumInRange(t.value,t.range)},r=n.properties,a=o.Vector2D.degreeToVector(t(r.velocityAngle)),l=t(r.scale),u=t(r.speed),c=e.randomVectorInRange(r.origin.value,r.origin.range,r.origin.shape),d={id:s,lifeSpan:t(r.lifeSpan),location:c,velocity:a.mult(u),turbulence:r.turbulence,maxSpeed:r.maxSpeed,acceleration:r.acceleration,bounceAmount:r.bounceAmount,bodySize:n._getBodySize(l),style:{x:location.x,y:location.y,alpha:t(r.alpha),scale:l,rotation:t(r.rotation),transformOrigin:r.transformOrigin,color:i.default.randomArrayInRange(r.color.value,r.color.range)},animations:r.animations};return s++,d},n._getBodySize=function(e){return void 0!==n.properties.bodySize?n.properties.bodySize*e:n.graphic instanceof l.default.Circle?n.graphic.width*e:Math.max(n.graphic.width,n.graphic.height)*e*.5}},c=u;t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),a=n(2),o=o||{};o={easyTween:function(e,t,n){var a={};for(var o in e){var i=e[o],l=i.steps,s="max"===i.duration?t:i.duration||t,u=i.loop?n%s/s:n/s;u=r.MathUtils.restrict(u,0,1);var c;for(c=0;c<l.length-1;c++){var d=l[c],f=l[c+1];if(r.MathUtils.inRange(u,d.s,f.s)){var p=r.MathUtils.rel(d.v,f.v,d.s,f.s,u);a[o]=p;break}}}return a},randomNumInRange:function(e,t,n){return t?(n=n||.01,e+r.MathUtils.random(-t/2,t/2,n)):e},randomArrayInRange:function(e,t,n){n=n||.01;var r,a=[];for(r=0;r<e.length;r++)a.push(this.randomNumInRange(e[r],t[r],n));return a},randomVectorInRange:function(e,t,n){var o,i=new a.Vector2D(e.x,e.y),l=t.x/2,s=t.y/2;switch(n){case"rect":var u=r.MathUtils.random(-l,l,.01),c=r.MathUtils.random(-s,s,.01);o=new a.Vector2D(u,c);break;case"oval":default:var o=a.Vector2D.random();o.x*=l*Math.random(),o.y*=s*Math.random()}return i.add(o),i},secToFrameCount:function(e,t){return~~(e*t)},frameCountToSec:function(e,t){return e/t}};var i=o;t.default=i},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a,o,i=n(0),l={DEFAULTSIZE:10,DEFAULTSTYLE:{x:0,y:0,alpha:1,scale:1,rotation:0,transformOrigin:{x:.5,y:.5},color:[255,0,0],strokeWidth:0,strokeColor:"rgba(0, 0, 0, 1)"}};l.Shape=(o=a=function(){function e(){this.hasPath=!0}return e.prototype.render=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=0),t=i.ObjectUtils.defaults(t,this.style),t.scale=i.MathUtils.restrict(t.scale,0,1/0),t.alpha=i.MathUtils.restrict(t.alpha,0,1);var r=this.width*t.scale,a=this.height*t.scale;if(t.color=l.Shape.getRGBA(t.color,t.alpha),e.save(),t.alpha<1&&!this.hasPath&&(e.globalAlpha=t.alpha),e.translate(r*-t.transformOrigin.x,a*-t.transformOrigin.y),0!==t.rotation){var o=t.x+r*t.transformOrigin.x,s=t.y+a*t.transformOrigin.y;e.translate(o,s),e.rotate(i.MathUtils.toRadians(t.rotation)),e.translate(-o,-s)}this.hasPath&&e.beginPath(),this.draw(e,t,r,a,n),this.hasPath&&(e.closePath(),e.fillStyle=t.color,e.fill(),t.strokeWidth>0&&(e.lineWidth=t.strokeWidth,e.strokeStyle=t.strokeColor,e.stroke())),e.restore()},e}(),Object.defineProperty(a,"getRGBA",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return"rgba("+~~i.MathUtils.restrict(e[0],0,255)+","+~~i.MathUtils.restrict(e[1],0,255)+","+~~i.MathUtils.restrict(e[2],0,255)+","+i.MathUtils.restrict(t,0,1)+")"}}),o),l.Image=function(e){function t(t,n,r){var a;return void 0===n&&(n=t.width),void 0===r&&(r={}),a=e.call(this)||this,a.hasPath=!1,a.image=t,a.width=n,a.height=a.width*(t.height/t.width),a.style=i.ObjectUtils.defaults(r,l.DEFAULTSTYLE),a}return r(t,e),t.prototype.draw=function(e,t,n,r){e.drawImage(this.image,t.x,t.y,n,r)},t}(l.Shape),l.Circle=function(e){function t(t,n){var r;return void 0===t&&(t=l.DEFAULTSIZE),void 0===n&&(n={}),r=e.call(this)||this,r.width=.5*t,r.height=r.width,r.style=i.ObjectUtils.defaults(n,l.DEFAULTSTYLE),r}return r(t,e),t.prototype.draw=function(e,t,n){e.arc(t.x+.5*n,t.y+.5*n,n,0,2*Math.PI)},t}(l.Shape),l.Rect=function(e){function t(t,n,r){var a;return void 0===t&&(t=l.DEFAULTSIZ),void 0===n&&(n=l.DEFAULTSIZ),void 0===r&&(r={}),a=e.call(this)||this,a.width=t,a.height=n,a.style=i.ObjectUtils.defaults(r,l.DEFAULTSTYLE),a}return r(t,e),t.prototype.draw=function(e,t,n,r){e.rect(t.x,t.y,n,r)},t}(l.Shape),l.Sprite=function(e){function t(t,n,r,a){var o;return void 0===r&&(r={}),o=e.call(this)||this,o.hasPath=!1,o.setting=a,o.image=t,o.oriWidth=t.width,o.oriHeight=t.height,o.width=n||o.oriWidth,o.height=o.width*(o.setting.frameWidth/o.setting.frameHeight),o.style=i.ObjectUtils.defaults(r,l.DEFAULTSTYLE),o.frameLen=~~(1/o.setting.speed),o.colNumber=o.oriWidth/o.setting.frameWidth,o}return r(t,e),t.prototype.draw=function(e,t,n,r,a){var o=~~(a/this.frameLen);if(this.setting.loop)o%=this.setting.frameNumber;else{var i=this.setting.frameNumber-1;o=o>i?i:o}var l=this.setting.frameWidth,s=this.setting.frameHeight,u=n/l,c=o*this.setting.frameWidth%this.oriWidth,d=~~(o/this.colNumber)*this.setting.frameHeight;e.drawImage(this.image,c,d,l,s,t.x,t.y,l*u,s*u)},t}(l.Shape);var s=l;t.default=s},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}e.exports=r},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.LoaderTicker=void 0;var a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(7)),function(e){return function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}r(t,e);var n=t.prototype;return n._setTicker=function(e){var t=this,n=document.createElement("div");n.innerHTML=e.content,n.style.cssText=e.css||"",document.body.appendChild(n);var r=void 0!=e.width?e.width:n.offsetWidth;n.style.fontFamily=e.font||"";var a=setTimeout(function(){clearInterval(o),t._handleFail()},5e3),o=setInterval(function(){n.offsetWidth!=r&&(clearTimeout(a),clearInterval(o),t._handleTickerComplete(n))},10)},n._removeTickerNode=function(e){e.parentNode.removeChild(e)},t}(e)});t.LoaderTicker=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=r(n(6)),o=r(n(5)),i=n(0),l=r(n(12)),s=r(n(17)),u=function(e){function t(){function e(e,t){return e.date.getTime()<t.date.getTime()?-1:e.date.getTime()>t.date.getTime()?1:0}c.sort(e)}var n=new l.default;e=e||{};var r,u=this,c=[],d={},f=!1,p=e.callback||function(){},h=e.tonightStartsAt||"17:30",g=0!=e.hasOneDayOf,m=e.eventDuration||120;Object.defineProperties(u,{target:{get:function(){return r}},current:{get:function(){return c[u.currentIndex]}},currentDate:{get:function(){return u.current.date}},currentLabel:{get:function(){return u.current.label}},currentIndex:{get:function(){for(var e=-1,t=0;t<c.length&&s.default.isPast(c[t].date);t++)e=t;return e}},next:{get:function(){return c[u.nextIndex]}},nextDate:{get:function(){return u.next.date}},nextLabel:{get:function(){return u.next.label}},nextIndex:{get:function(){return i.MathUtils.restrict(u.currentIndex+1,0,c.length-1)}},isLive:{get:function(){return"NOW"==u.current.standardKey}},isComplete:{get:function(){return"PAST"==u.current.standardKey}}}),u.addDate=function(e,l,s){var p=arguments[3],m=e,b=!1,v=!0;if(!e._isTzDate){var _=r;switch(p){case"PAST":v=!1;break;case"TONIGHT":for(var y=r.toDateTimeISO().split("T")[0]+"T",w=h.split(":"),x=0;x<3;x++)y+=i.TextUtils.pad(w[x]||0,2)+":";y=y.slice(0,-1),_=new o.default({datetime:[y,r.outputTimezone]}),b=_.getTime()>r.getTime(),f=!b,v=g&&f;break;case"TODAY":b=g&&f}v&&(_=r.clone(n.LOCAL),_.setHours.apply(_,n._tzDiff)),m=a.default.adjust(_,e)}if(p){var C=d[p];void 0!=C?l=C:"string"==typeof l&&(l=a.default.getLabels()[p])}if("function"==typeof l){var E=p&&r?r:m;l=l.call(u,E)}return b||(c.push({date:m,label:l,standardKey:p,callback:s||function(){}}),t()),m},u.print=function(){console.log("DateSchedule.print(), length:",c.length);for(var e=0;e<c.length;e++)console.log(" -",e,c[e].date.toFullDateTime(),"label:",c[e].label)},u.getDates=function(){for(var e=[],t=0;t<c.length;t++)e.push(c[t].date);return e},u.getCountdown=function(){var e=s.default.getTimeDifference(s.default.getNow(),u.target);for(var t in e)"output"!=t&&(e[t]=Math.floor(e[t]));return e};var b=e.standardOverrides;if(b)for(var v in b)d[v]=b[v];e.target&&(r=u.addDate(e.target,"",p,"NOW"),u.addDate({minute:m},"",p,"PAST")),u.addDate(new o.default({datetime:"2000-01-01T00:00:00+00:00",outputTimezone:n.UTC}),function(e){return e.toSimpleDateTime()},p,"DATE"),r&&1==e.isStandard&&(u.addDate({},"",p,"TONIGHT"),u.addDate({},"",p,"TODAY"),u.addDate({hour:-24},"",p,"TOMORROW"),u.addDate({hour:-144},function(e){var t=e.getIn(r.outputTimezone).getDay();return a.default.getLabels().WEEKDAYS_FULL[t]},p,"WEEK"))},c=u;t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(15),a=n(2),o=function(){};Object.defineProperty(o,"debug_level1",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(o,"debug_level2",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(o,"filter",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"debug_element",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"debug_css_list",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){console.log("CssManager.init()"),this.generateBrowserKeyDictionary()}}),Object.defineProperty(o,"setDebugLevel",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;switch(parseInt(e)){case 1:t.debug_level1=!0,t.debug_level2=!1;break;case 2:t.debug_level1=!0,t.debug_level2=!0;break;default:t.debug_level1=!1,t.debug_level2=!1}}}),Object.defineProperty(o,"setDebugFilter",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;console.log("CssManager.setDebugFilter(),",e),t.filter=e,t.debug_level1=!0}}),Object.defineProperty(o,"ifDebug",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;return t.filter?!(!t.passDebugFilter()||!t[e])||void 0:t[e]}}),Object.defineProperty(o,"passDebugFilter",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this;if(e.debug_element&&e.debug_element.id.indexOf(e.filter)>-1)return!0;if(e.debug_css_list)for(var t in e.debug_css_list){if(t.indexOf(e.filter)>-1)return!0;if(String(e.debug_css_list[t]).indexOf(e.filter)>-1)return!0}return!1}}),Object.defineProperty(o,"generateBrowserKeyDictionary",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this;console.log("CssManager.generateBrowserKeyDictionary()"),e.deviceKeyDict={};var t=document.createElement("div").style;for(var n in t){var a=e.getPrefix(n),o=e.standardizeKey(n);switch(r.Device.browser){case"safari":"webkit"==a?e.deviceKeyDict[o]=e.prependPrefix("webkit",o):e.prependPrefix("webkit",o)in t||(e.deviceKeyDict[o]=o);break;case"firefox":var i=e.prependPrefix("Moz",o),l=e.prependPrefix("Webkit",o);o in t?e.deviceKeyDict[o]=o:"moz"==a?e.camelateKey("webkit-"+o)in t&&(e.deviceKeyDict[o]=i):"webkit"==a&&(i in t||(e.deviceKeyDict[o]=l));break;case"chrome":case"ie":default:o in t?e.deviceKeyDict[o]=o:a&&(e.deviceKeyDict[o]=e.prependPrefix(a,o))}}console.log(" KEY DICTIONARY:",e.deviceKeyDict)}}),Object.defineProperty(o,"apply",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;n.debug_element=e,n.debug_css_list=t,n.ifDebug("debug_level1")&&console.log("  CssManager.apply()",e.id);var r={};for(var a in t)a.match(/^transform\(/)?r[a]=t[a]:(n.ifDebug("debug_level1")&&console.log("   "+a+": "+t[a]+";"),e.style[n.getDeviceKey(a)]=t[a]);n.applyTransforms(e,r),n.ifDebug("debug_level1")&&console.log("\n\n"),n.debug_element=null,n.debug_css_list=null}}),Object.defineProperty(o,"conformCssObject",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;n.debug_element=t,n.ifDebug("debug_level1")&&console.log("CssManager.conformCssObject()",e);var r={};if(e)for(var a in e){n.ifDebug("debug_level2")&&console.log("  PARSE( key: "+a+", value: "+e[a]+" )");var o=n.conformKeyValue(a,e[a]);for(var i in o)n.ifDebug("debug_level2")&&console.log("    CONFORMED DECLARATION:",o[i]),r[o[i][0]]=o[i][1]}return n.debug_element=null,r}}),Object.defineProperty(o,"conformCssString",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;n.debug_element=t,n.ifDebug("debug_level1")&&console.log(" CssManager.conformCssString()");var r={};if(e){var a=e.split(/\s*;\s*/);for(var o in a)if(a[o]){var i=a[o].split(/:(.+)?/);n.ifDebug("debug_level2")&&console.log("  PARSE( key: "+i[0]+", value: "+i[1]+" )");var l=n.conformKeyValue(i[0],i[1]);for(var s in l)n.ifDebug("debug_level2")&&console.log("    CONFORMED DECLARATION:",l[s]),r[l[s][0]]=l[s][1]}}return n.debug_element=null,r}}),Object.defineProperty(o,"conformCssKeyValue",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;n.ifDebug("debug_level1")&&console.log(" CssManager.conformCssKeyValue()");var r={};return r[e]=t,n.conformCssObject(r)}}),Object.defineProperty(o,"applyTransforms",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;n.ifDebug("debug_level1")&&console.log("    - CssManager.applyTransforms(), ",t);var r=new a.Matrix2D,o=e.style[n.getDeviceKey("transform")],i=o.match(/matrix[^\)]+\)/);if(i&&(r.setFromCss(i[0]),n.ifDebug("debug_level2")&&console.log("       existing matrix:",r.data)),"transforms"in e)var l=e.transforms;else var l={tx:0,ty:0,rz:0,sx:1,sy:1};var s={};for(var u in t){s[u.match(/\(\s([^\s]+)/)[1]]=t[u]}if(void 0!=s.tx&&(r.data[2]=0),void 0!=s.ty&&(r.data[5]=0),void 0!=s.rz){var c=-l.rz;r.rotate(c*(Math.PI/180)),r.rotate(s.rz*(Math.PI/180)),l.rz=s.rz}if(void 0!=s.sx){var c=1/l.sx;r.scale(c,1),r.scale(s.sx,1),l.sx=s.sx}if(void 0!=s.sy){var c=1/l.sy;r.scale(1,c),r.scale(1,s.sy),l.sy=s.sy}void 0!=s.tx&&(r.translate(s.tx,0),l.tx=s.tx),void 0!=s.ty&&(r.translate(0,s.ty),l.ty=s.ty),e.transforms=l,n.ifDebug("debug_level2")&&console.log("       updated matrix:",r.data),e.style[n.getDeviceKey("transform")]=r.getCss()}}),Object.defineProperty(o,"conformKeyValue",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=this;e=String(e).trim(),t=String(t).trim();var r=n.standardizeKey(e);return n.conformValue(r,t)}}),Object.defineProperty(o,"hasPrefix",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;return e.search(t.matchPrefixRegex())>-1}}),Object.defineProperty(o,"getPrefix",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this,n=e.match(t.matchPrefixRegex());return n?n[1].replace(/-/g,"").toLowerCase():null}}),Object.defineProperty(o,"stripPrefix",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this,n=e.replace(t.matchPrefixRegex(),"");return n.charAt(0).toLowerCase()+n.slice(1)}}),Object.defineProperty(o,"getDeviceKey",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;return e in t.deviceKeyDict?t.deviceKeyDict[e]:e}}),Object.defineProperty(o,"prependPrefix",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return e+t.replace(/^(.)/,function(e){return e.charAt(0).toUpperCase()})}}),Object.defineProperty(o,"standardizeKey",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;return e=t.stripPrefix(e),e=e in t.keyFormatExceptions()?t.keyFormatExceptions()[e]:t.camelateKey(e),t.ifDebug("debug_level2")&&console.log('    - result: "'+e+'"'),e}}),Object.defineProperty(o,"camelateKey",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return e=e.replace(/-(.)/g,function(e){return e.charAt(1).toUpperCase()})}}),Object.defineProperty(o,"keyFormatExceptions",{configurable:!0,enumerable:!0,writable:!0,value:function(){return{x:"transform( tx )",translateX:"transform( tx )",y:"transform( ty )",translateY:"transform( ty )",rotate:"transform( rz )",rotation:"transform( rz )",scaleX:"transform( sx )",scaleY:"transform( sy )",scale:"transform( sx ),transform( sy )"}}}),Object.defineProperty(o,"conformValue",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n,r=this,a=[],o=t.match(/\s/),i=t.match(r.matchNumberRegex());if(!o&&i){r.ifDebug("debug_level2")&&console.log("   conform value as number"),n=Number(i[0]);var l=t.match(/[^0-9\.]+$/);if(l)n+=l[0];else switch(e){case"top":case"right":case"bottom":case"left":case"width":case"height":case"fontSize":case"lineHeight":case"padding":case"margin":case"marginRight":case"marginLeft":case"marginTop":case"marginBottom":case"borderRadius":case"borderWidth":case"letterSpacing":n+="px"}}else if("backgroundImage"==e)r.ifDebug("debug_level2")&&console.log("   conform value as background image"),t=t.replace(/^url\(\s*['"]*/,"").replace(/['"]*\s*\)$/,""),n='url( "'+t+'" )';else if("transform"==e){r.ifDebug("debug_level2")&&console.log('   convert "transform" functions to individual transforms');for(var s=/([a-z0-9]+)\(([^\)]+)\)/gi;params=s.exec(t);){var u=params[2].replace(/\s/g,"").split(",").map(function(e,t,n){return Number(e.match(r.matchNumberRegex())[0])});switch(params[1]){case"translate":a.push(["transform( tx )",u[0]]),a.push(["transform( ty )",u[1]]);break;case"translateX":a.push(["transform( tx )",u[0]]);break;case"translateY":a.push(["transform( ty )",u[0]]);break;case"rotate":a.push(["transform( rz )",u[0]]);break;case"scale":a.push(["transform( sx )",u[0]]),a.push(["transform( sy )",u[1]]);break;case"scaleX":a.push(["transform( sx )",u[0]]);break;case"scaleY":a.push(["transform( sy )",u[0]])}}}else r.ifDebug("debug_level2")&&console.log("   conform value as string"),n=t;if(void 0!=n){r.ifDebug("debug_level2")&&console.log('    - result: "'+n+'"');for(var c=e.split(/\,/),d=0;d<c.length;d++)a.push([c[d],n])}return a}}),Object.defineProperty(o,"matchNumberRegex",{configurable:!0,enumerable:!0,writable:!0,value:function(){return/^[+-]?[0-9]*\.?[0-9]+/}}),Object.defineProperty(o,"matchPrefixRegex",{configurable:!0,enumerable:!0,writable:!0,value:function(){return/^-*(moz-*|webkit-*|ms-*|o-)/i}});var i=o;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){var e=this;e.identity=new Float32Array([1,0,0,0,1,0]),e.data=new Float32Array(e.identity)};r.prototype={clear:function(){var e=this;e.data=new Float32Array(e.identity)},rotate:function(e){var t=this,n=new Float32Array(t.identity),r=Math.cos(e).toFixed(15),a=Math.sin(e).toFixed(15);return n[0]=r,n[1]=a,n[3]=-a,n[4]=r,t.multiply(n,!1),t},scale:function(e,t){var n=this,r=new Float32Array(n.identity);return r[0]=e,r[4]=t,n.multiply(r,!1),n},skew:function(e,t){var n=this,r=new Float32Array(n.identity);return r[1]=Math.tan(e),r[3]=Math.tan(t),n.multiply(r),n},translate:function(e,t){var n=this,r=new Float32Array(n.identity);return r[2]=e||0,r[5]=t||0,n.multiply(r,!0),n},multiply:function(e,t){for(var n=this,r=new Float32Array(n.data),a=t?e:r,o=t?r:e,i=0;i<6;i++){var l=3*Math.floor(i/3),s=i%3;n.data[i]=a[l]*o[s]+a[l+1]*o[s+3]}n.data[2]+=a[2],n.data[5]+=a[5]},setFromCss:function(e){var t=e.match(/\(([^\)]+)\)/)[1].replace(/\s/g,"").split(",").map(Number);this.data=[t[0],t[1],t[4],t[2],t[3],t[5]]},getCss:function(){var e=this;return"matrix("+e.data[0]+","+e.data[1]+","+e.data[3]+","+e.data[4]+","+e.data[2]+","+e.data[5]+")"}};var a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),a=function(){function e(e,t){this.x=e||0,this.y=t||0}var t=e.prototype;return t.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.dist=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},t.mult=function(e){return this.x*=e,this.y*=e,this},t.div=function(e){return this.x/=e,this.y/=e,this},t.limit=function(e){var t=this.length();return t>e&&this.mult(e/t),this},t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.normalize=function(){var e=1/this.length();return this.mult(e)},t.clone=function(){return new e(this.x,this.y)},e.degreeToVector=function(t){var n=r.MathUtils.toRadians(t);return new e(Math.cos(n),Math.sin(n))},e.random=function(t){var n=t||.01;return e.degreeToVector(r.MathUtils.random(0,360,n))},e}(),o=a;t.default=o},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(16)),a=function(){};Object.defineProperty(a,"_pendingImages",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"_pendingCanvasImages",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"_pendingLoaders",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"_nextLoadCallback",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"_imageManagerLoader",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_dict",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(a,"_isLoading",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_loaderCount",{configurable:!0,enumerable:!0,writable:!0,value:0}),Object.defineProperty(a,"_onComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(){}}),Object.defineProperty(a,"_onFail",{configurable:!0,enumerable:!0,writable:!0,value:function(){}}),Object.defineProperty(a,"addToLoad",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=a,o=r.LoaderUtils.getFileName(e);if(!n.available(o,!0)){t&&1==t.forCanvas?n._pendingCanvasImages.push(e):n._pendingImages.push(e)}return o}}),Object.defineProperty(a,"addLoader",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a._pendingLoaders.push(e)}}),Object.defineProperty(a,"get",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;if(t._dict[e])return t._dict[e];throw new Error("ImageManager : No image named '"+e+"' has been loaded")}}),Object.defineProperty(a,"available",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=void 0!=a._dict[e];return n?t&&console.log("ImageManager.available() --\x3e",!0,': Duplicate Image Id "'+e+'". One or more images loading in have the same name. Each Image needs a unique file name.'):t||console.log("ImageManager.available() --\x3e",!1,": No image named '"+e+"' has been loaded"),n}}),Object.defineProperty(a,"load",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n){var o=a;if(o._onFail=n||e.failAd,o._isLoading)o._nextLoadCallback.push(t);else{o._imageManagerLoader=new r.default({name:"imageManagerLoader",onComplete:function(e){o._isLoading=!1,o._addToDictionary(e.getAllContentRaw())},onFail:function(e){o._isLoading=!1,o._onFail.call()},scope:o}),o._onComplete=[].concat(t),o._nextLoadCallback=[];var i=o._pendingImages.slice();o._pendingImages=[],o._imageManagerLoader.add(new r.default(i,{name:"dynamicImages-"+o._loaderCount++,fileType:"jpg"}));var l=o._pendingCanvasImages.slice();o._pendingCanvasImages=[],o._imageManagerLoader.add(new r.default(l,{name:"dynamicCanvasImages-"+o._loaderCount++,fileType:"jpg",crossOrigin:"anonymous"}));var s=o._pendingLoaders.slice();o._pendingLoaders=[];for(var u=0;u<s.length;u++)o._imageManagerLoader.add(s[u]);o._isLoading=!0,o._imageManagerLoader.load()}}}),Object.defineProperty(a,"addFbaImages",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e&&a._addToDictionary(e.getAllContentRaw())}}),Object.defineProperty(a,"_addToDictionary",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=a,n=0;n<e.length;n++)if(e[n]instanceof Image||e[n]instanceof SVGElement){var r=e[n];t.available(e[n].id,!0)||(t._dict[r.id]=r)}console.log("ImageManager:",t._dict);for(var n=0;n<t._onComplete.length;n++)t._onComplete[n].call();t._nextLoadCallback.length>0&&t.load(t._nextLoadCallback)}});var o=a;t.default=o}).call(t,n(1))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(29),a=function(){};Object.defineProperty(a,"_afterInitExpanded",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_arg",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"userHasInteracted",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(a,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;_arg=e||{},_arg.expandTime=_arg.expandTime||.5,_arg.collapseTime=_arg.collapseTime||.5,_arg.extend&&console.log("Expandable extended with",_arg.extend.toString()),t._init(),adParams.expandable.expanded?(_afterInitExpanded=!1,t.expand()):collapseStart(!0)}}),Object.defineProperty(a,"collapse",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;r.GestureEvent.stop(e),t._collapse(e)}}),Object.defineProperty(a,"expand",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;r.GestureEvent.stop(e),t._expand(e)}}),Object.defineProperty(a,"_init",{configurable:!0,enumerable:!0,writable:!0,value:function(){}}),Object.defineProperty(a,"_collapse",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a._handleCollapseStart()}}),Object.defineProperty(a,"_expand",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a._handleExpandStart()}}),Object.defineProperty(a,"_collapseComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(){a._handleCollapseComplete()}}),Object.defineProperty(a,"_expandComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(){a._handleExpandComplete()}}),Object.defineProperty(a,"expandStart",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a;TweenLite.to(e._arg.target,e._arg.expandTime,{x:adParams.expandable.expandedX,y:adParams.expandable.expandedY,width:adParams.adWidth,height:adParams.adHeight,onComplete:e._expandComplete})}}),Object.defineProperty(a,"collapseStart",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a,n=e?0:t._arg.collapseTime,r=adParams.expandable;TweenLite.to(t._arg.target,n,{x:r.collapsedX,y:r.collapsedY,width:r.collapsedWidth,height:r.collapsedHeight,onComplete:e?void 0:t._collapseComplete})}}),Object.defineProperty(a,"fireCallback",{configurable:!0,enumerable:!0,writable:!0,value:function(e){(a._arg[e]||function(){}).call()}}),Object.defineProperty(a,"_handleExpandStart",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;t.fireCallback("expandStart"),t.expandStart()}}),Object.defineProperty(a,"_handleExpandComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;fireCallback("expandComplete"),t.userHasInteracted=t._afterInitExpanded,t._afterInitExpanded=!0}}),Object.defineProperty(a,"_handleCollapseStart",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;t.collapseStart(),t.fireCallback("collapseStart"),t.userHasInteracted=!0}}),Object.defineProperty(a,"_handleCollapseComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a;t.fireCallback("collapseComplete"),t.userHasInteracted=!0}});var o=a;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.GestureEvent=t.FrameRateBase=t.FrameRate=t.UIEvent=t.GestureBase=t.Gesture=void 0;var a=r(n(72));t.Gesture=a.default;var o=r(n(30));t.GestureBase=o.default;var i=r(n(73));t.UIEvent=i.default;var l=r(n(74));t.FrameRate=l.default;var s=r(n(32));t.FrameRateBase=s.default;var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(31));t.GestureEvent=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(15),a=n(9),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(31)),i=function(){function e(e){var t=this;t.elem=e,t.hasActiveChildren=!0,t.debug=!1,t.eventList=[],t._isDragEnabled=!1,t._isDragging=!1,t._give=2,t._oX=0,t._oY=0,t._p1X=0,t._p1Y=0,t._p2X=0,t._p2Y=0,t._sX=0,t._sY=0,t._vX=0,t._vY=0,t._cursor="mouse",t._start="down",t._end="up",t.init()}var t=e.prototype;return t.init=function(){var e=this;e.debug&&console.log("GestureBase.init()"),e._handleTouchStart=e._handleTouchStart.bind(e),e._handleDown=e._handleDown.bind(e),e._handleDrag=e._handleDrag.bind(e),e._handleUp=e._handleUp.bind(e),e._elemAdd=e.elem.addEventListener.bind(e.elem),e._elemRemove=e.elem.removeEventListener.bind(e.elem),e._reset()},t.register=function(e,t){var n=this;n.debug&&console.log("GestureBase.register(",e,")"),n.eventList.push(e),n._checkDragEnabled(),n._elemAdd(e,t)},t.unregister=function(e,t){var n=this;n.debug&&console.log("GestureBase.unregister(",e,")");var r=n.eventList.indexOf(e);r>=0&&n.eventList.splice(r,1),n._checkDragEnabled(),n._elemRemove(e,t)},t._reset=function(){var e=this;e._cursor="mouse",e._start="down",e._end="up",e.elem.addEventListener("touchstart",e._handleTouchStart),"ios"!=r.Device.os&&e.elem.addEventListener("mousedown",e._handleDown)},t._checkDragEnabled=function(){var e=this,t=e.eventList.join("").indexOf("onDrag");e._isDragEnabled=t>-1},t._getEventScope=function(e){return e.changedTouches?e.changedTouches[0]:e},t._add=function(e,t){window.addEventListener(this._cursor+e,t)},t._remove=function(e,t){window.removeEventListener(this._cursor+e,t)},t._handleDown=function(e){var t=this;t.debug&&console.log("GestureBase._handleDown()"),o.startPoint(),t.elem.removeEventListener("touchstart",t._handleTouchStart),"ios"!=r.Device.os&&t.elem.removeEventListener("mousedown",t._handleDown),t._isDragging=!1,t._add(t._end,t._handleUp),t._add("move",t._handleDrag);var n=t._getEventScope(e),i=n.pageX,l=n.pageY,s=t.elem.getBoundingClientRect(),u=i-s.left,c=l-s.top,d=t.elem.x||a.Styles.getCss(t.elem,"x"),f=t.elem.y||a.Styles.getCss(t.elem,"y"),p=s.left-d,h=s.top-f;t._oX=p+u,t._oY=h+c;var g=i-t._oX,m=l-t._oY;t._sX=t._p1X=t._p2X=i,t._sY=t._p1Y=t._p2Y=l,function(e){if(!o.stopped(e)){var n=new o.Event(e,i,l,u,c,g,m);t.debug&&console.log(" -> dispatch",e),t.elem.dispatchEvent(n)}}("onPress")},t._handleUp=function(e,t){function n(e){if(!o.stopped(e)){var t=new o.Event(e,i,l,u,c,d,f,0,0,r._vX,r._vY);r.debug&&console.log(" -> dispatch",e),r.elem.dispatchEvent(t)}}var r=this;r.debug&&console.log("GestureBase._handleUp()"),r._remove(r._end,r._handleUp),r._remove("move",r._handleDrag);var a=r._getEventScope(e),i=a.pageX,l=a.pageY,s=r.elem.getBoundingClientRect(),u=i-s.left,c=l-s.top,d=i-r._oX,f=l-r._oY;!0!==t&&n("onRelease");var p=s.top+window.pageYOffset,h=p+s.height,g=s.left+window.pageXOffset,m=g+s.width;r._isDragging?(r._isDragEnabled&&r._dragEndOrSwipe("onDragStop"),console.log("  -> No CLICK Fired, was dragging")):i>g&&i<m&&l>p&&l<h&&n("onSelect"),r._isDragging&&r._dragEndOrSwipe("onSwipe"),r._reset(),e.preventDefault(),o.endPoint()},t._handleTouchStart=function(e){var t=this;t.debug&&console.log("GestureBase._handleTouchStart()"),t._cursor="touch",t._start="start",t._end="end",t._handleDown(e)},t._handleDrag=function(e){function t(e){if(!o.stopped(e)){var t=new o.Event(e,a,i,h,g,d,f,n._p1X-n._sX,n._p1Y-n._sY,n._vX,n._vY);n.debug&&console.log(" -> dispatch",e),n.elem.dispatchEvent(t)}}var n=this;n.debug&&console.log("GestureBase._handleDrag()");var r=n._getEventScope(e),a=r.pageX,i=r.pageY,l=a-n._p1X,s=a-n._p2X;n._vX=(s-l)/2+l;var u=i-n._p1Y,c=i-n._p2Y;n._vY=(c-u)/2+u;var d=a-n._oX,f=i-n._oY,p=n.elem.getBoundingClientRect(),h=a-p.left,g=i-p.top;n._isDragging?n._isDragEnabled&&t("onDrag"):(Math.abs(n._sX-a)>n._give||Math.abs(n._sY-i)>n._give)&&(n._isDragging=!0,n._isDragEnabled&&t("onDragStart")),n._p2X=n._p1X,n._p1X=a,n._p2Y=n._p1Y,n._p1Y=i},t._dragEndOrSwipe=function(e){var t=this;if(t.debug&&console.log("GestureBase._dragEndOrSwipe()",e),!o.stopped(name)){var n=t.elem.getBoundingClientRect(),r=new o.Event(e,t._p1X,t._p1Y,t._p1X-n.left,t._p1Y-n.top,t._p1X-t._oX,t._p1Y-t._oY,t._p2X-t._sX,t._p2Y-t._sY,t._vX,t._vY);t.debug&&console.log(" -> dispatch",e),t.elem.dispatchEvent(r)}},e}(),l=i;t.default=l},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i,l,s,u,c){var d=new CustomEvent(e);return d.mouse={global:{x:t,y:n},local:{x:r,y:a}},d.element={x:o||0,y:i||0},d.distance={x:l||0,y:s||0},d.velocity={x:u||0,y:c||0},d.direction={x:u>0?"right":u<0?"left":null,y:c>0?"down":c<0?"up":null},d}function a(e){e&&(e.stopImmediatePropagation(),s[e.type]=!0)}function o(e){return void 0!=s[e]}function i(){u||(u=!0,s={})}function l(){u=!1}t.__esModule=!0,t.startPoint=i,t.endPoint=l,t.SWIPE=t.DRAG_STOP=t.DRAG_START=t.DRAG=t.CLICK=t.RELEASE=t.PRESS=t.MOVE=t.OUT=t.OVER=t.stopped=t.stop=t.Event=void 0;var s={},u=!1,c=r;t.Event=c;var d=a;t.stop=d;var f=o;t.stopped=f;t.OVER="mouseover";t.OUT="mouseout";t.MOVE="mousemove";t.PRESS="onPress";t.RELEASE="onRelease";t.CLICK="onSelect";t.DRAG="onDrag";t.DRAG_START="onDragStart";t.DRAG_STOP="onDragStop";t.SWIPE="onSwipe"},function(e,t,n){"use strict";function r(e){var t=this;t.pool=[],t.fps=e,t._frameTime=Math.floor(1e3/t.fps),t._prevTime=0,t._startTime=0,t._nextTime=0,t._maxLag=400,t._shiftLag=30,t._paused=!1,t._prevCallTime=Date.now(),t.diffTime=0}t.__esModule=!0,t.default=void 0,r.prototype={resume:function(){var e=this;e._isPaused&&(e._startTime=Date.now(),e._prevCallTime=e._startTime,e._prevTime=e._startTime,e._nextTime=0,e._isPaused=!1)},tick:function(){var e=this;if(!e._paused){var t=!1,n=Date.now(),r=n-e._prevTime;r>e._maxLag&&(console.log("...lag"),e._startTime+=r-e._shiftLag),e._prevTime=n;var a=e._prevTime-e._startTime,o=a-e._nextTime;o>0&&(e._nextTime+=o>=e._frameTime?o:e._frameTime,t=!0,e.diffTime=n-e._prevCallTime,e._prevCallTime=n),t&&e.dispatch()}},dispatch:function(){for(var e=this,t=0;t<e.pool.length;t++){var n=e.pool[t];n.handler.call(n.from,this)}}};var a=r;t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(2),o=(r(n(18)),r(n(19))),i=function(e,t,n){var r=this;r.fps=n,r.graphic=t.graphic,r.properties=t.generateIndividualProperties(),r.frameCount=0,r.ctx=e,r._lifeSpanFrameCount=o.default.secToFrameCount(r.properties.lifeSpan,r.fps),r._force=new a.Vector2D(0,0),r._hasAnimation=function(){var e=r.properties.animations;for(var t in e)if(e[t].steps.length>0)return!0;return!1}.bind(r)(),r._hasTurbulence=function(){var e=r.properties.turbulence;return 0!==e.rate&&0!==e.x&&0!==e.y}.bind(r)()};i.prototype={update:function(){var e=this.properties;e.velocity.clone();if(e.velocity.mult(1+e.acceleration),e.velocity.add(this._force),e.velocity.limit(e.maxSpeed),e.location.add(e.velocity),this._force.mult(0),this._hasTurbulence){this.noiseStart||(this.noiseStart=new a.Vector2D.random,this.noiseStart.mult(250));var t=e.turbulence;this.noiseStart.add(new a.Vector2D(t.rate,t.rate));var n=a.SimpleNoise2D.get(this.noiseStart.x,this.noiseStart.y);e.location.x+=n.x*t.xAmplitude,e.location.y+=n.y*t.yAmplitude}e.style.x=e.location.x,e.style.y=e.location.y,this.frameCount++},getAnimationStyle:function(){var e=this.properties,t={},n=o.default.frameCountToSec(this.frameCount,this.fps),r=o.default.easyTween(e.animations,e.lifeSpan,n);for(var a in e.style)if(void 0!==r[a]){var i=e.style[a]*r[a];t[a]=i}else t[a]=e.style[a];return t},render:function(){var e=this._hasAnimation?this.getAnimationStyle():this.properties.style;this.graphic.render(this.ctx,e,this.frameCount)},applyForce:function(e){this._force.add(e)},isDead:function(e,t,n){var r=this.properties;if(this._lifeSpanFrameCount-this.frameCount<=0)return!0;if(n){var a=r.location,o=this.graphic,i=Math.max(o.width,o.height)*r.style.scale;if(a.x-i>e||a.y-i>t||a.x+i<0||a.y+i<0)return!0}return!1},checkWorld:function(e){var t=this.properties.location,n=this.properties.bodySize,r=e[0]+n,a=e[1]-n,o=e[2]+n,i=e[3]-n;t.x<=r?this._checkBorder("x",r):t.x>=a&&this._checkBorder("x",a),t.y<=o?this._checkBorder("y",o):t.y>=i&&this._checkBorder("y",i)},_checkBorder:function(e,t){var n=this.properties,r=n.velocity,a=n.bounceAmount;"x"===e?(r.x*=-a,r.y*=a,n.location.x=t):(r.x*=a,r.y*=-a,n.location.y=t)}};var l=i;t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.content,n=e.adPath,r=e.loadedImageDict,a=(0,l.parseAdSize)(n);(0,s.set)("adPath",n),(0,s.set)("adWidth",a.width),(0,s.set)("adHeight",a.height),(0,s.set)("imagePaths",t.images),(0,s.set)("loadedImageDict",r),(0,s.set)("emitterDataFiles",t.emitterDataFiles)}n(35);var o=(r(n(36)),n(14)),i=(n(16),r(n(77))),l=n(87),s=n(13),u=/([a-zA-Z0-9_.-]*)\.(png|jpg|jpeg)/,c={imagePaths:["img1.jpg","img2.png","img3.gif"],emitterDataFiles:["emitterData.js"]};!function(e){var t=(0,l.getAdPathFromUrl)()+"300x250/";e.imagePaths.filter(function(e){return u.test(e)}).forEach(function(e){var t=(0,l.mergePath)("/images",e);o.ImageManager.addToLoad(t)}),o.ImageManager.load(function(){a({content:e,adPath:t,loadedImageDict:o.ImageManager._dict}),window.Interface=new i.default})}(c)},function(e,t){window.dat=window.dat||{},dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css=function(){return{load:function(e,t){t=t||document;var n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),dat.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var n=t.call(arguments),r=e.length-1;r>=0;r--)n=[e[r].apply(this,n)];return n[0]}},each:function(t,n,r){if(t)if(e&&t.forEach&&t.forEach===e)t.forEach(n,r);else if(t.length===t.length+0){for(var a=0,o=t.length;a<o;a++)if(a in t&&n.call(r,t[a],a)===this.BREAK)return}else for(var a in t)if(n.call(r,t[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),dat.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(dat.utils.common),dat.dom.dom=function(e){function t(t){if("0"===t||e.isUndefined(t))return 0;var n=t.match(a);return e.isNull(n)?0:parseFloat(n[1])}var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},r={};e.each(n,function(t,n){e.each(t,function(e){r[e]=n})});var a=/(\d+(\.\d+)?)px/,o={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,n,r){e.isUndefined(n)&&(n=!0),e.isUndefined(r)&&(r=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,n,a,o){a=a||{};var i=r[n];if(!i)throw new Error("Event type "+n+" not supported.");var l=document.createEvent(i);switch(i){case"MouseEvents":var s=a.x||a.clientX||0,u=a.y||a.clientY||0;l.initMouseEvent(n,a.bubbles||!1,a.cancelable||!0,window,a.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=l.initKeyboardEvent||l.initKeyEvent;e.defaults(a,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(n,a.bubbles||!1,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break;default:l.initEvent(n,a.bubbles||!1,a.cancelable||!0)}e.defaults(l,o),t.dispatchEvent(l)},bind:function(e,t,n,r){return r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),o},unbind:function(e,t,n,r){return r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),o},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return o},removeClass:function(e,t){if(t)if(void 0===e.className);else if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return o},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var n=getComputedStyle(e);return t(n["border-left-width"])+t(n["border-right-width"])+t(n["padding-left"])+t(n["padding-right"])+t(n.width)},getHeight:function(e){var n=getComputedStyle(e);return t(n["border-top-width"])+t(n["border-bottom-width"])+t(n["padding-top"])+t(n["padding-bottom"])+t(n.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do{t.left+=e.offsetLeft,t.top+=e.offsetTop}while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return o}(dat.utils.common),dat.controllers.OptionController=function(e,t,n){var r=function e(r,a,o){e.superclass.call(this,r,a);var i=this;if(this.__select=document.createElement("select"),n.isArray(o)){var l={};n.each(o,function(e){l[e]=e}),o=l}n.each(o,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),i.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;i.setValue(e)}),this.domElement.appendChild(this.__select)};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(e,t){function n(e){return e=e.toString(),e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var r=function e(r,a,o){e.superclass.call(this,r,a),o=o||{},this.__min=o.min,this.__max=o.max,this.__step=o.step,t.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=.1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(this.initialValue))/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=n(this.__impliedStep)};return r.superclass=e,t.extend(r.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),r.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=n(e),this}}),r}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(e,t,n){function r(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var a=function e(r,a,o){function i(){var e=parseFloat(f.__input.value);n.isNaN(e)||f.setValue(e)}function l(){i(),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function s(e){t.bind(window,"mousemove",u),t.bind(window,"mouseup",c),d=e.clientY}function u(e){var t=d-e.clientY;f.setValue(f.getValue()+t*f.__impliedStep),d=e.clientY}function c(){t.unbind(window,"mousemove",u),t.unbind(window,"mouseup",c)}this.__truncationSuspended=!1,e.superclass.call(this,r,a,o);var d,f=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",i),t.bind(this.__input,"blur",l),t.bind(this.__input,"mousedown",s),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return a.superclass=e,n.extend(a.prototype,e.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():r(this.getValue(),this.__precision),a.superclass.prototype.updateDisplay.call(this)}}),a}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(e,t,n,r,a){function o(e,t,n,r,a){return r+(e-t)/(n-t)*(a-r)}var i=function e(n,r,a,i,l){function s(e){t.bind(window,"mousemove",u),t.bind(window,"mouseup",c),u(e)}function u(e){e.preventDefault();var n=t.getOffset(d.__background),r=t.getWidth(d.__background);return d.setValue(o(e.clientX,n.left,n.left+r,d.__min,d.__max)),!1}function c(){t.unbind(window,"mousemove",u),t.unbind(window,"mouseup",c),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}e.superclass.call(this,n,r,{min:a,max:i,step:l});var d=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",s),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return i.superclass=e,i.useDefaultStyles=function(){n.inject("/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},r.extend(i.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common),dat.controllers.FunctionController=function(e,t,n){var r=function e(n,r,a){e.superclass.call(this,n,r);var o=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===a?"Fire":a,t.bind(this.__button,"click",function(e){return e.preventDefault(),o.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return r.superclass=e,n.extend(r.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(e,t,n){var r=function e(n,r){function a(){o.setValue(!o.__prev)}e.superclass.call(this,n,r);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",a,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(var n=t.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(dat.utils.common),dat.color.interpret=function(e,t){var n,r,a=function(){r=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(o,function(a){if(a.litmus(e))return t.each(a.conversions,function(a,o){if(n=a.read(e),!1===r&&!1!==n)return r=n,n.conversionName=o,n.conversion=a,t.BREAK}),t.BREAK}),r},o=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return a}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(e,t,n,r,a,o,i,l,s,u,c,d,f,p,h){function g(e,t,n,o){if(void 0===t[n])throw new Error("Object "+t+' has no property "'+n+'"');var i;if(o.color)i=new c(t,n);else{var l=[t,n].concat(o.factoryArgs);i=r.apply(e,l)}o.before instanceof a&&(o.before=o.before.__li),v(e,i),p.addClass(i.domElement,"c");var s=document.createElement("span");p.addClass(s,"property-name"),s.innerHTML=i.property;var u=document.createElement("div");u.appendChild(s),u.appendChild(i.domElement);var d=m(e,u,o.before),f=i.getValue();if(p.addClass(d,R.CLASS_CONTROLLER_ROW),p.addClass(d,typeof f),"string"==typeof f){var h=f[0],g=f[f.length-1];("["===h&&"]"===g||"{"===h&&"}"===g)&&p.addClass(d,"text-box")}return b(e,d,i),e.__controllers.push(i),i}function m(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,params.before):e.__ul.appendChild(r),e.onResize(),r}function b(e,t,n){if(n.__li=t,n.__gui=e,h.extend(n,{options:function(t){return arguments.length>1?(n.remove(),g(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[h.toArray(arguments)]})):h.isArray(t)||h.isObject(t)?(n.remove(),g(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof s){var r=new l(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});h.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],a=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),a.apply(r,e)}}),p.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof l){var a=function(t){return h.isNumber(n.__min)&&h.isNumber(n.__max)?(n.remove(),g(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=h.compose(a,n.min),n.max=h.compose(a,n.max)}else n instanceof o?(p.bind(t,"click",function(){p.fakeEvent(n.__checkbox,"click")}),p.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof i?(p.bind(t,"click",function(){p.fakeEvent(n.__button,"click")}),p.bind(t,"mouseover",function(){p.addClass(n.__button,"hover")}),p.bind(t,"mouseout",function(){p.removeClass(n.__button,"hover")})):n instanceof c&&(p.addClass(t,"color"),n.updateDisplay=h.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=h.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&T(e.getRoot(),!0),t},n.setValue)}function v(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!=r){var a=n.__rememberedObjectIndecesToControllers[r];if(void 0===a&&(a={},n.__rememberedObjectIndecesToControllers[r]=a),a[t.property]=t,n.load&&n.load.remembered){var o,i=n.load.remembered;if(i[e.preset])o=i[e.preset];else{if(!i[D])return;o=i[D]}if(o[r]&&void 0!==o[r][t.property]){var l=o[r][t.property];t.initialValue=l,t.setValue(l)}}}}function _(e,t){return document.location.href+"."+t}function y(e){var t=e.__save_row=document.createElement("li");p.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),p.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",p.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",p.addClass(r,"button"),p.addClass(r,"save");var a=document.createElement("span");a.innerHTML="New",p.addClass(a,"button"),p.addClass(a,"save-as");var o=document.createElement("span");o.innerHTML="Revert",p.addClass(o,"button"),p.addClass(o,"revert");var i=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?h.each(e.load.remembered,function(t,n){E(e,n,n==e.preset)}):E(e,D,!1),p.bind(i,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(i),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(o),M){var l=function(){u.style.display=e.useLocalStorage?"block":"none"},s=document.getElementById("dg-save-locally"),u=document.getElementById("dg-local-explain");s.style.display="block";var c=document.getElementById("dg-local-storage");"true"===localStorage.getItem(_(e,"isLocal"))&&c.setAttribute("checked","checked"),l(),p.bind(c,"change",function(){e.useLocalStorage=!e.useLocalStorage,l()})}var d=document.getElementById("dg-new-constructor");p.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||P.hide()}),p.bind(n,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),P.show(),d.focus(),d.select()}),p.bind(r,"click",function(){e.save()}),p.bind(a,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),p.bind(o,"click",function(){e.revert()})}function w(e){function t(t){return t.preventDefault(),a=t.clientX,p.addClass(e.__closeButton,R.CLASS_DRAG),p.bind(window,"mousemove",n),p.bind(window,"mouseup",r),!1}function n(t){return t.preventDefault(),e.width+=a-t.clientX,e.onResize(),a=t.clientX,!1}function r(){p.removeClass(e.__closeButton,R.CLASS_DRAG),p.unbind(window,"mousemove",n),p.unbind(window,"mouseup",r)}e.__resize_handle=document.createElement("div"),h.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var a;p.bind(e.__resize_handle,"mousedown",t),p.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function x(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function C(e,t){var n={};return h.each(e.__rememberedObjects,function(r,a){var o={},i=e.__rememberedObjectIndecesToControllers[a];h.each(i,function(e,n){o[n]=t?e.initialValue:e.getValue()}),n[a]=o}),n}function E(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function S(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}function T(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function O(e){0!=e.length&&d(function(){O(e)}),h.each(e,function(e){e.updateDisplay()})}e.inject(".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n");var P,A,D="Default",M=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),k=!0,L=!1,j=[],R=function e(t){var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),p.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=h.defaults(t,{autoPlace:!0,width:e.DEFAULT_WIDTH}),t=h.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),h.isUndefined(t.load)?t.load={preset:D}:t.preset&&(t.load.preset=t.preset),h.isUndefined(t.parent)&&t.hideable&&j.push(this),t.resizable=h.isUndefined(t.parent)&&t.resizable,t.autoPlace&&h.isUndefined(t.scrollable)&&(t.scrollable=!0);var r,a=M&&"true"===localStorage.getItem(_(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,S(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,x(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,i&&(i.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(r){t.closed=r,t.closed?p.addClass(n.__ul,e.CLASS_CLOSED):p.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=r?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return a},set:function(e){M&&(a=e,e?p.bind(window,"unload",r):p.unbind(window,"unload",r),localStorage.setItem(_(n,"isLocal"),e))}}}),h.isUndefined(t.parent)){if(t.closed=!1,p.addClass(this.domElement,e.CLASS_MAIN),p.makeSelectable(this.domElement,!1),M&&a){n.useLocalStorage=!0;var o=localStorage.getItem(_(this,"gui"));o&&(t.load=JSON.parse(o))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,p.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),p.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===t.closed&&(t.closed=!0);var i=document.createTextNode(t.name);p.addClass(i,"controller-name");var l=m(n,i),s=function(e){return e.preventDefault(),n.closed=!n.closed,!1};p.addClass(this.__ul,e.CLASS_CLOSED),p.addClass(l,"title"),p.bind(l,"click",s),t.closed||(this.closed=!1)}t.autoPlace&&(h.isUndefined(t.parent)&&(k&&(A=document.createElement("div"),p.addClass(A,"dg"),p.addClass(A,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(A),k=!1),A.appendChild(this.domElement),p.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||x(n,t.width)),p.bind(window,"resize",function(){n.onResize()}),p.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),p.bind(this.__ul,"transitionend",function(){n.onResize()}),p.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),t.resizable&&w(this),r=function(){M&&"true"===localStorage.getItem(_(n,"isLocal"))&&localStorage.setItem(_(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=r;n.getRoot();t.parent||function(){var e=n.getRoot();e.width+=1,h.defer(function(){e.width-=1})}()};return R.toggleHide=function(){L=!L,h.each(j,function(e){e.domElement.style.zIndex=L?-999:999,e.domElement.style.opacity=L?0:1})},R.CLASS_AUTO_PLACE="a",R.CLASS_AUTO_PLACE_CONTAINER="ac",R.CLASS_MAIN="main",R.CLASS_CONTROLLER_ROW="cr",R.CLASS_TOO_TALL="taller-than-window",R.CLASS_CLOSED="closed",R.CLASS_CLOSE_BUTTON="close-button",R.CLASS_DRAG="drag",R.DEFAULT_WIDTH=245,R.TEXT_CLOSED="Close Controls",R.TEXT_OPEN="Open Controls",p.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||R.toggleHide()},!1),h.extend(R.prototype,{add:function(e,t){return g(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return g(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;h.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&A.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new R(t);this.__folders[e]=n;var r=m(this,n.domElement);return r.id=e,p.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=p.getOffset(e.__ul).top,n=0;h.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=p.getHeight(t))}),window.innerHeight-t-20<n?(p.addClass(e.domElement,R.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(p.removeClass(e.domElement,R.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&h.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(h.isUndefined(P)&&(P=new f,P.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;h.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&y(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&x(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=C(this)),e.folders={},h.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=C(this),T(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[D]=C(this,!0)),this.load.remembered[e]=C(this),this.preset=e,E(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){h.each(this.__controllers,function(t){this.getRoot().load.remembered?v(e||this.getRoot(),t):t.setValue(t.initialValue)},this),h.each(this.__folders,function(e){e.revert(e)}),e||T(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&O(this.__listening)}}),R}(dat.utils.css,0,0,dat.controllers.factory=function(e,t,n,r,a,o,i){return function(l,s){var u=l[s];if(i.isArray(arguments[2])||i.isObject(arguments[2]))return new e(l,s,arguments[2]);if(i.isNumber(u))return i.isNumber(arguments[2])&&i.isNumber(arguments[3])?new n(l,s,arguments[2],arguments[3]):new t(l,s,{min:arguments[2],max:arguments[3]});if(i.isString(u)){var c=u[0],d=u[u.length-1];return new r("["===c&&"]"===d||"{"===c&&"}"===d,l,s)}return i.isFunction(u)?new a(l,s,""):i.isBoolean(u)?new o(l,s):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,t,n){var r=function e(n,r,a){function o(){l.setValue(l.__input.value),n&&l.__onFinishChange.call(l,l.getValue())}function i(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}e.superclass.call(this,r,a);var l=this;this.__input=n?document.createElement("textarea"):document.createElement("input"),this.__input.setAttribute("type","text"),n?(this.__btn=document.createElement("button"),this.__btn.innerHTML="Update",t.bind(this.__btn,"click",o)):(t.bind(this.__input,"keyup",o),t.bind(this.__input,"change",o),t.bind(this.__input,"blur",i),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()})),this.updateDisplay(),this.domElement.appendChild(this.__input),n&&this.domElement.appendChild(this.__btn)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(e,t,n,r,a){function o(e,t,n,r){e.style.background="",a.each(s,function(a){e.style.cssText+="background: "+a+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}function i(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var l=function e(l,s){function u(e){p(e),t.bind(window,"mousemove",p),t.bind(window,"mouseup",c)}function c(){t.unbind(window,"mousemove",p),t.unbind(window,"mouseup",c)}function d(){var e=r(this.value);!1!==e?(g.__color.__state=e,g.setValue(g.__color.toOriginal())):this.value=g.__color.toString()}function f(){t.unbind(window,"mousemove",h),t.unbind(window,"mouseup",f)}function p(e){e.preventDefault();var n=t.getWidth(g.__saturation_field),r=t.getOffset(g.__saturation_field),a=(e.clientX-r.left+document.body.scrollLeft)/n,o=1-(e.clientY-r.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),a>1?a=1:a<0&&(a=0),g.__color.v=o,g.__color.s=a,g.setValue(g.__color.toOriginal()),!1}function h(e){e.preventDefault();var n=t.getHeight(g.__hue_field),r=t.getOffset(g.__hue_field),a=1-(e.clientY-r.top+document.body.scrollTop)/n;return a>1?a=1:a<0&&(a=0),g.__color.h=360*a,g.setValue(g.__color.toOriginal()),!1}e.superclass.call(this,l,s),this.__color=new n(this.getValue()),this.__temp=new n(0);var g=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&d.call(this)}),t.bind(this.__input,"blur",d),t.bind(this.__selector,"mousedown",function(e){t.addClass(this,"drag").bind(window,"mouseup",function(e){t.removeClass(g.__selector,"drag")})});var m=document.createElement("div");a.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(m.style,{width:"100%",height:"100%",background:"none"}),o(m,"top","rgba(0,0,0,0)","#000"),a.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),i(this.__hue_field),a.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",u),t.bind(this.__field_knob,"mousedown",u),t.bind(this.__hue_field,"mousedown",function(e){h(e),t.bind(window,"mousemove",h),t.bind(window,"mouseup",f)}),this.__saturation_field.appendChild(m),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};l.superclass=e,a.extend(l.prototype,e.prototype,{updateDisplay:function(){var e=r(this.getValue());if(!1!==e){var t=!1;a.each(n.COMPONENTS,function(n){if(!a.isUndefined(e[n])&&!a.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&a.extend(this.__color.__state,e)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,l=255-i;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,o(this.__saturation_field,"left","#fff",this.__temp.toString()),a.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+l+","+l+","+l+",.7)"})}});var s=["-moz-","-o-","-webkit-","-ms-",""];return l}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,t,n,r){function a(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(i(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(i(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(l(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV"),this.__state[t]=e}})}function i(e,n,a){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,a);else{if("HSV"!==e.__state.space)throw"Corrupted color state";r.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function l(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);r.extend(e.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var s=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return s.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(s.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),a(s.prototype,"r",2),a(s.prototype,"g",1),a(s.prototype,"b",0),o(s.prototype,"h"),o(s.prototype,"s"),o(s.prototype,"v"),Object.defineProperty(s.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(s.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),s}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),o=n*(1-t),i=n*(1-a*t),l=n*(1-(1-a)*t),s=[[n,l,o],[i,n,o],[o,n,l],[o,i,n],[l,o,n],[n,o,i]][r];return{r:255*s[0],g:255*s[1],b:255*s[2]}},rgb_to_hsv:function(e,t,n){var r,a,o=Math.min(e,t,n),i=Math.max(e,t,n),l=i-o;return 0==i?{h:NaN,s:0,v:0}:(a=l/i,r=e==i?(t-n)/l:t==i?2+(n-e)/l:4+(e-t)/l,r/=6,r<0&&(r+=1),{h:360*r,s:a,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,n,r){return r<<(e=8*n)|t&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),dat.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function n(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common)},function(e,t,n){function r(){}function a(e){if(!g(e))return e;var t=[];for(var n in e)o(t,n,e[n]);return t.join("&")}function o(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(e,t,n)});else if(g(n))for(var r in n)o(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function i(e){for(var t,n,r={},a=e.split("&"),o=0,i=a.length;o<i;++o)t=a[o],n=t.indexOf("="),-1==n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function l(e){for(var t,n,r,a,o=e.split(/\r?\n/),i={},l=0,s=o.length;l<s;++l)n=o[l],-1!==(t=n.indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),a=_(n.slice(t+1)),i[r]=a);return i}function s(e){return/[\/+]json($|[^-\w])/.test(e)}function u(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",t);var r;try{n._isResponseOK(t)||(r=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){r=e}r?(r.original=e,r.response=t,r.status=t.status,n.callback(r,t)):n.callback(null,t)})}function d(e,t,n){var r=v("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var p=n(37),h=n(38),g=n(21),m=n(39),b=n(41),v=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=c,v.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var _="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=a,v.parseString=i,v.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse},m(u.prototype),u.prototype._parseBody=function(e){var t=v.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&s(this.type)&&(t=v.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},u.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",a=new Error(r);return a.status=this.status,a.method=t,a.url=n,a},v.Response=u,p(c.prototype),h(c.prototype),c.prototype.type=function(e){return this.set("Content-Type",v.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",v.types[e]||e),this},c.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},c.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var e=this,t=this.xhr=v.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var a=this._header["content-type"],o=this._serializer||v.serialize[a?a.split(";")[0]:""];!o&&s(a)&&(o=v.serialize["application/json"]),o&&(n=o(n))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&t.setRequestHeader(i,this.header[i]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},v.agent=function(){return new b},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){b.prototype[e.toLowerCase()]=function(t,n){var r=new v.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),b.prototype.del=b.prototype.delete,v.get=function(e,t,n){var r=v("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},v.head=function(e,t,n){var r=v("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},v.options=function(e,t,n){var r=v("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.del=d,v.delete=d,v.patch=function(e,t,n){var r=v("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.post=function(e,t,n){var r=v("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.put=function(e,t,n){var r=v("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return a(e)}function a(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e){if(e)return a(e)}function a(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var o=n(21);e.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},r.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(e,t){if(o(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=o(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&o(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,n){"use strict";function r(e){if(e)return a(e)}function a(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var o=n(40);e.exports=r,r.prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=o.type(t);var n=o.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),a=n.shift();return r&&a&&(e[r]=a),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(15),o=r(n(24)),i=r(n(27)),l=function(){};Object.defineProperty(l,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return console.log("Core.init()"),new Promise(function(t,n){var r=[];a.Device.init(),o.default.init(),e&&i.default.addFbaImages(e),Promise.all(r).then(function(){t()}).catch(function(e){n(e)})})}}),Object.defineProperty(l,"loadDynamic",{configurable:!0,enumerable:!0,writable:!0,value:function(){return console.log("Core.loadDynamic()"),new Promise(function(t,n){console.log("\t Core load Image Queue"),i.default.load(t,e.failAd)})}});var s=l;t.default=s}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.__esModule=!0,t.default=void 0;var o=function(){function e(){}return a(e,null,[{key:"orientation",get:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}},{key:"dimensions",get:function(){return{width:window.innerWidth,height:window.innerHeight}}}]),e}();Object.defineProperty(o,"pixelRatio",{configurable:!0,enumerable:!0,writable:!0,value:window.devicePixelRatio||"unknown"}),Object.defineProperty(o,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){console.log("Device.init()");var e=this;e.agentString=navigator.userAgent,e._getType(),e._getBrandAndOS(),e._getBrowser(),"desktop"!==e.type&&"windows"===e.os&&e.osVersion<=8&&"ie"===e.browser&&e.browserVersion<12&&(console.log("You appear to be on Windows 7 or 8 using Internet Explorer 11 or under. You also appear to be on a touchscreen device. We will assume you're actually on a desktop, since it's extremely unlikely you're on a tablet or mobile device using this specific operating system and browser."),e.type="desktop");var t=Array(70).join("-"),n="\n"+t;n+="\n AGENT:\n\n\t"+e.agentString+"\n",n+="\n  Brand:\t\t\t"+e.brand,n+="\n  Product:\t\t\t"+e.product,n+="\n  Type:\t\t\t\t"+e.type,n+="\n  Os:\t\t\t\t"+e.os+" - "+e.osVersion,n+="\n  Browser:\t\t\t"+e.browser+" - "+e.browserVersion,n+="\n  Dimensions: \t\t"+e.dimensions.width+"x"+e.dimensions.height,n+="\n  Orientation:\t\t"+e.orientation,n+="\n  Pixel Ratio:\t\t"+e.pixelRatio,n+="\n"+t,console.log(n)}}),Object.defineProperty(o,"_getType",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this,t=/(android|mobile)/gi.exec(e.agentString),n=/(tablet|touch)/gi.exec(e.agentString),r=/(ipad)/gi.exec(e.agentString);e.type="desktop",t&&(e.type="mobile"),n&&(e.type="tablet"),r&&(e.type="tablet")}}),Object.defineProperty(o,"_getBrandAndOS",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this,t=e.agentString.match(/ip(hone|od|ad)|mac/gi);if(t){e.brand="apple",e.product=t[0].toLowerCase();var n=/(OS\s)(\X\s|)([\d\.\_]+)/gi.exec(e.agentString);return e.os=""==n[2]?"ios":"osx",void(e.osVersion=n[3].replace(/\_/g,"."))}var r=/(android)\/?\s*([0-9\.]+)/gi.exec(e.agentString);if(r)return e.brand=e.product=e.os=r[1].toLowerCase(),e._checkForSpecial("product",["pixel 2"],e.agentString.split("(")[1].split(")")[0]),void(e.osVersion=r[2]);var a=/(windows\snt\s|windows\sphone)\/?\s*([0-9\.]+)/gi.exec(e.agentString);if(a){switch(e.brand="microsoft",e.os="windows",a[2]){case"5.2":e.osVersion="xp";break;case"6.0":e.osVersion="vista";break;case"6.1":e.osVersion="7";break;case"6.2":e.osVersion="8";break;case"6.3":e.osVersion="8.1";break;case"10.0":e.osVersion="10";break;default:e.osVersion=a[2]}return e.product=a[1].toLowerCase(),void(e.product.match(/\snt/i)&&(e.product="pc"))}e.agentString.match(/(blackberry|bb10|playbook)/i)&&(e.brand=e.product=e.os="blackberry",e.osVersion=/(version)\/?\s*([0-9\.]+)/gi.exec(e.agentString)[2])}}),Object.defineProperty(o,"_getBrowser",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this,t=/(edge(?=\/))\/?\s*([0-9\.]+)/i.exec(e.agentString);if(t||(t=e.agentString.match(/(fban|fbav|opera|chrome|crios|safari|firefox|msie|trident(?=\/))\/?\s*([0-9\.]+)/i)),!t||t.length<3){switch(console.log("we received no browser data, so we are setting it to the default of the device"),e.os){case"ios":e.browser="safari";break;case"windows":e.browser="trident";break;default:e.browser="chrome"}return void(e.browserVersion="os-default")}switch(console.log("we received browser data"),e.browser=t[1].toLowerCase(),e.browserVersion=t[2],e.browser){case"trident":var n=/\brv:+(\d+)/g.exec(e.agentString);n&&(e.browserVersion=n[1]);case"msie":e.browser="ie";break;case"crios":e.browser="chrome";break;case"safari":var n=e.agentString.match(/\sversion\/([0-9\.]+)\s/i);n&&(e.browserVersion=n[1]);break;case"chrome":var n=e.agentString.match(/\b(OPR)\/([0-9\.]+)/i);n&&(e.browser="opera",e.browserVersion=n[2])}}}),Object.defineProperty(o,"_checkForSpecial",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,n){for(var r,a=this,o=0;o<t.length;o++)if(r=t[o].toLowerCase(),n.match(new RegExp(r,"i"))){a[e]=r;break}}});var i=o;t.default=i},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=n(16),a=n(49),o=n(0),i=function(){};Object.defineProperty(i,"_baseUrlLive",{configurable:!0,enumerable:!0,writable:!0,value:"https://json.ff0000-cdn.net/"}),Object.defineProperty(i,"_baseUrlPreview",{configurable:!0,enumerable:!0,writable:!0,value:"https://preview.ff0000-cdn.net/preview/"}),Object.defineProperty(i,"_qaBaseUrlLive",{configurable:!0,enumerable:!0,writable:!0,value:"https://qa.ff0000-cdn.net/"}),Object.defineProperty(i,"_qaBaseUrlPreview",{configurable:!0,enumerable:!0,writable:!0,value:"https://qa.velvet.tech/preview/"}),Object.defineProperty(i,"_baseUrlNow",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_baseSlugs",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_settings",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_debug",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(i,"_resolved",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"adDataRaw",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(i,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(e){console.log("Velvet.init()");var t=this,n=document.referrer,r=n.match(/qa\.velvet\.tech/);console.log("\turl:",n),console.log("\tisQA:",r),r&&(console.log("\tis on qa.velvet.tech"),t._baseUrlLive=t._qaBaseUrlLive,t._baseUrlPreview=t._qaBaseUrlPreview),t.isPreviewLocation()?(console.log("\tPreview requested"),t._baseUrlNow=t._baseUrlPreview):(console.log("\tLive requested"),t._baseUrlNow=t._baseUrlLive),t._settings=e,t._baseSlugs=t._settings.client+"/"+t._settings.locale+"/",console.log("\tbase url:",t._baseUrlNow),console.log("\tbase slugs:",t._baseSlugs);var a=getQueryParams();return console.log("\tquery:",a),a.addata&&(console.log("\t\tAd Data set via query"),t._settings.adData=a.addata),new Promise(function(e,n){t._resolved=e,console.log("\tVelvet.init() Promise, V:",t),t._settings.adData?t._loadAdData():t._loadSegment()})}}),Object.defineProperty(i,"get",{configurable:!0,enumerable:!0,writable:!0,value:function(){function e(e){switch(Object.prototype.toString.call(e)){case"[object Object]":t(e);break;case"[object Array]":n(e)}}function t(e){i._debug&&console.log("walkObject() >",e);for(var t in e)a(e,t)}function n(e){if(v||isNaN(g))for(var n=0;n<e.length;n++)t(e[n]);else d.push(e[g])}function r(e){return e.hasOwnProperty("value")?e.value:e}function a(t,n){if(i._debug&&console.log("\t\t\t readProperty()",t,n,"|",p,"|",g),n!=g||v){if(n==p){var a=o(h,t[n]);return i._debug&&console.log("param:",n,"\n\tnarrowDown:",a,"\n\tobj[param]:",t[n],n),void(a&&d.push(r(a)))}}else d.push(r(t[n]));c&&e(t[n])}function o(e,t){var n,r,a=t||{};for(n=0;a&&(r=e[n]);n++)a=r in a?a[r]:void 0;return a}var i=this,l="string"==typeof arguments[0],s=arguments[l?0:1],u=l?i.adDataRaw:arguments[0],c=!!arguments[l?1:2];i._debug&&console.log(Array(100).join("-")+"\nget(",s,")\nwithin:",u,"\nrecursive:",c);var d=[],f=s.replace(/\.value(\.|)/g,".").replace(/\.$/,"");i._debug&&console.log("\tstrippedKey:",f);for(var p,h=f.split("."),g=h.pop(),m="",b=0;b<h.length;b++)b>0&&(m+="."),m+=h[b],isNaN(h[b])&&(m+=".value");i._debug&&console.log("\tkey:",s,"\n\tsplits:",h,"\n\tpathInExpanded:",m);var v=h.length>0;return v&&(h=m.split("."),p=h.shift(),h.push(g),i._debug&&console.log("\tanchor:",p,"\n\tsplits again:",h)),e(u),1==d.length?d=d[0]:0==d.length&&(d=void 0),i._debug&&console.log(d),d}}),Object.defineProperty(i,"isPreviewLocation",{configurable:!0,enumerable:!0,writable:!0,value:function(){console.log("\n\n Velvet.isPreviewLocation() > queryParams? \n\n");var e=window.location.href;return void 0!=e&&null!=e&&("production"!==queryParams.velvet&&!!(e.match(/^file/)||e.match(/manta\.joyent\.com/)||e.match(/ff0000\.com/)||e.match(/adprodtest/)||e.match(/client\-projects\.com/)||e.match(/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+/)))}}),Object.defineProperty(i,"_loadSegment",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=this;new r.DataLoader(t._baseUrlNow+t._baseSlugs+t._settings.segment,{name:"segmentLoader",fileType:"json",onComplete:t._handleSegmentLoadComplete,onFail:e.failAd,scope:t}).load()}}),Object.defineProperty(i,"_loadAdData",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=this;new r.DataLoader(t._baseUrlNow+t._baseSlugs+t._settings.adData,{name:"velvetAdDataLoader",fileType:"json",onComplete:t._handleAdDataLoadComplete,onFail:e.failAd,scope:t}).load()}}),Object.defineProperty(i,"_handleSegmentLoadComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=this,r=JSON.parse(t.dataRaw);console.log("Velvet segment Json:\n",r),adParams.defaultTimezone=r.tz,adParams.defaultTimezone&&console.log("\tdefaultTimezone:",adParams.defaultTimezone);var i=r.timeblocks,l=a.DateManager.getNow();console.log("\tnow:",new Date(l));for(var s=0;s<i.length;s++){var u=i[s].time;if(console.log("\t\t>",new Date(u)),l<u)break}var c=s-1;if(c<0)return void e.failAd();console.log("\tselected timeblock:",i[c]);var d=i[c].ad_rotation;n._settings.adData=o.MathUtils.randomWeightedKey(d),console.log("\tselected ad slug:",n._settings.adData),n._loadAdData()}}),Object.defineProperty(i,"_handleAdDataLoadComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this;console.log("Velvet._handleAdDataLoadComplete()"),t.adDataRaw=JSON.parse(e.dataRaw),console.log("adDataRaw:\n",t.adDataRaw),t._resolved()}});var l=i;t.default=l}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=n(3),o=n(4),i=n(8),l=n(22),s=function(){},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t=e.call.apply(e,[this].concat(r))||this;var o=arguments&&arguments.length>1?arguments[1]:arguments[0]||{};return t.renderOnly=!!o.renderOnly,t.crossOrigin=o.crossOrigin,t}r(t,e);var n=t.prototype;return n.load=function(){var e=this;if(e.renderOnly)e._setTicker({content:e.url,width:0});else{var t=new Image;t.id=e.fileName,t.crossOrigin=e.crossOrigin,t.onload=e._handleComplete.bind(e),t.onerror=e._handleFail,t.src=e.url}},n._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},t}((0,a.mix)(s).with(o.LoaderBase,i.LoaderSource,l.LoaderTicker));t.default=u},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=n(3),o=n(4),i=n(8),l=function(){},s=function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}r(t,e);var n=t.prototype;return n.load=function(){var e,t=this;e="css"==t.fileType?t._createCssLink():"html"==t.fileType?t._createHtmlLink():t._createScript(),e.charset="utf-8",e.onload=t._handleComplete.bind(t),e.onerror=t._handleFail,"css"==t.fileType||"html"==t.fileType?e.href=this.url:e.src=t.url,document.getElementsByTagName("head")[0].appendChild(e)},n._createCssLink=function(){var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e},n._createHtmlLink=function(){var e=document.createElement("link");return e.rel="import",e},n._createScript=function(){var e=document.createElement("script");return e.type="text/javascript",e},n._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},t}((0,a.mix)(l).with(o.LoaderBase,i.LoaderSource));t.default=s},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.__esModule=!0,t.default=void 0;var o=n(3),i=n(4),l=n(8),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7)),u=function(){},c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},l=a(t);return l.method=(i.method||"get").toLowerCase(),l.query=i.query||null,l.responseType=i.responseType||null,t}r(t,e);var n=t.prototype;return n.load=function(){var e=this,t=null,n="post"===e.method;e.req=s.createXMLHttpRequest(),void 0!=e.responseType&&(e.req.responseType=e.responseType);var r=e.url;switch(e.query&&(t=s.getParamsFromData(e.query),encodeURIComponent(t),n||(r+="?"+t,t=null)),e.cacheBuster&&(r+=e.query&&!n?"&":"?",r+="cb="+(new Date).getTime()),e.req.onreadystatechange=e._handleStateChange.bind(e),e.req.open(e.method,r,!0),e.fileType){case"xml":e.req.overrideMimeType&&e.req.overrideMimeType("text/xml");break;case"json":e.req.overrideMimeType&&e.req.overrideMimeType("application/json");break;case"fba":case"bin":case"binary":e.responseType=e.req.responseType="arraybuffer"}"post"===e.method&&e.req.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.req.send(t)},n._handleStateChange=function(e){var t=this;switch(t.req.readyState){case 3:200==this.req.status&&(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleProgress(t));break;case 4:200==t.req.status?(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleComplete(t)):t._handleFail({target:e})}},n._handleProgress=function(){var e=this;e.onProgress.call(e.scope,e)},n._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)},t}((0,o.mix)(u).with(i.LoaderBase,l.LoaderSource));t.default=c},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=n(3),o=n(4),i=n(8),l=n(22),s=function(){},u=function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}r(t,e);var n=t.prototype;return n.load=function(){var e=this;e.fileName=e.fileName.split(".")[0];var t="@font-face { font-family: "+e.fileName+"; src: url("+e.url+") format('truetype'); }",n=document.getElementById("RED_fontStyleSheet");if(n)n.innerHTML+=t;else{var r=document.createElement("style");r.type="text/css",r.media="screen",r.id="RED_fontStyleSheet",r.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(r)}e._setTicker({content:" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",css:"position:absolute; top:-1000px; font-size:100px; font-family:san-serif; font-variant:normal; font-style:normal; font-weight:normal; letter-spacing:0; white-space:nowrap;",font:e.fileName})},n._handleTickerComplete=function(e){var t=this;setTimeout(function(){t._removeTickerNode(e)},300),t._handleComplete()},n._handleComplete=function(e){var t=this;t.dataRaw=t.fileName,t.onComplete.call(t.scope,t)},t}((0,a.mix)(s).with(o.LoaderBase,i.LoaderSource,l.LoaderTicker));t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.DateSchedule=t.RecurringSchedule=t.TzDate=t.Timezone=t.DateFormatter=t.DateManager=void 0;var a=r(n(17));t.DateManager=a.default;var o=r(n(6));t.DateFormatter=o.default;var i=r(n(12));t.Timezone=i.default;var l=r(n(5));t.TzDate=l.default;var s=r(n(66));t.RecurringSchedule=s.default;var u=r(n(23));t.DateSchedule=u.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=new function(){this.gpsSuccessCallback,this.gpsFailCallback,this.getGPSData=function(e,t){navigator.geolocation?(r.gpsSuccessCallback=e,r.gpsFailCallback=t,navigator.geolocation.getCurrentPosition(r.onLocationRetrieved,r.onLocationFailed)):console.log("geolocation not available")},this.onLocationRetrieved=function(e){r.gpsSuccessCallback(e.coords)},this.onLocationFailed=function(e){switch(console.log("Error retrieving location data"),e.code){case 0:console.log("0 - unknown error");break;case 1:console.log("1 - permission denied");break;case 2:console.log("2 - position unavailable (error response from locaton");break;case 3:console.log("3 - timed out")}r.gpsFailCallback&&r.gpsFailCallback(e)}},a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e,t,n,r){i=e,l=t,s=n,u=r}function t(e){m=e<=0?1:e}function n(e){c=e,window.addEventListener("deviceorientation",o,!1)}function r(){window.removeEventListener("deviceorientation",o,!1)}function a(){g=!0}function o(e){switch(window.orientation){case-90:f=e.gamma,d=-e.beta;break;case 90:f=-e.gamma,d=e.beta;break;case 180:f=-e.beta,d=-e.gamma;break;default:f=e.beta,d=e.gamma}g&&(p=d,h=f,g=!1),d-=p,f-=h,d*=m,f*=m,i&&d<i&&(d=i),l&&d>l&&(d=l),s&&f<s&&(f=s),u&&f>u&&(f=u),c(d,f)}var i,l,s,u,c,d=0,f=0,p=0,h=0,g=!0,m=1;return{ax:d,ay:f,callibrate:a,setSpeedLimits:e,setSpeedMultiplier:t,activate:n,deactivate:r}}(),a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){};Object.defineProperty(r,"_data",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"_monetTypes",{configurable:!0,enumerable:!0,writable:!0,value:{text:"text",number:"value",image:"url",video:"url",url:"url",bool:"value"}}),Object.defineProperty(r,"setData",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=this,n=e.getMonetData();return n.then(function(e){t._data=e}),n}}),Object.defineProperty(r,"getDataByKey",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t,n,r=this;for(var a in r._monetTypes)if(r._data.rootAssets[a+"."+e]){n=a,t=r._data.rootAssets[a+"."+e];break}return t[r._monetTypes[n]]}});var a=r;t.default=a},function(e,t,n){"use strict";function r(e,t){t?Enabler.reportCustomVariableCount1(e):Enabler.reportCustomVariableCount2(e)}function a(e,t){Enabler.loadModule(studio.module.ModuleId.VIDEO,function(){studio.video.Reporter.attach(t||"Video Report 1",e instanceof VideoPlayer?e.screen:e)})}function o(e){var t=e.screen;t.addEventListener(MediaEvent.PLAY,function(){e.isReplay?trackVideoReplay.call():trackVideoPlay.call()}),t.addEventListener(MediaEvent.PAUSE,function(){e.complete||trackVideoPause.call()}),t.addEventListener(MediaEvent.COMPLETE,function(){trackVideoComplete.call()})}t.__esModule=!0,t.counterWithVars=r,t.addVideoMetrics=a,t.addYouTubeVideoMetrics=o},function(e,t,n){"use strict";function r(e){if("[object Object]"!==Object.prototype.toString.call(e))return e;var t=e.constructor();for(var n in e)t[n]=r(e[n]);return t}function a(e,t,n){void 0===e&&(e={});var o=r(e);for(var i in t){var l=t[i];void 0===o[i]?o[i]=t[i]:n&&"[object Object]"===Object.prototype.toString.call(l)&&(o[i]=a(o[i],l,n))}return o}t.__esModule=!0,t.clone=r,t.defaults=a,t.objectifier=void 0;var o={};t.objectifier=o,o.get=function(e,t){void 0===t&&(t=window);var n=o._getSplits(e).splits;return o._getProperty(n,t)},o.set=function(e,t,n){void 0===n&&(n=window);var r=o._getSplits(e,!0);o._getProperty(r.splits,n)[r.lastKey]=t},o._getSplits=function(e,t){var n=e.split(".");return{splits:n,lastKey:t?n.pop():null}},o._getProperty=function(e,t){void 0===t&&(t={});for(var n,r=t,a=0;r&&(n=e[a]);a++)r=n in r?r[n]:void 0;return r}},function(e,t,n){"use strict";function r(e){return Math.PI/180*e}function a(e){return 180/Math.PI*e}function o(e,t,n){t=t||0,n=void 0!=n&&n>0?n:1;var r=Math.min(e,t),a=Math.max(e,t);return r=Math.ceil(r/n)*n,a=Math.floor(a/n)*n,r+Math.floor(Math.random()*((a-r+n)/n))/(1/n)}function i(e){return e=e||.5,Math.random()<e}function l(e){var t=[],n=[0];for(var r in e)t.push(r),n.push(e[r]+(n[n.length-1]||0));for(var a=100*Math.random().toFixed(2),o=0;o<n.length-1;o++){if(u(a,n[o],n[o+1]))return t[o]}}function s(e,t,n,r,a){return(a-n)/(r-n)*(t-e)+e}function u(e,t,n){var r=Math.min(t,n);return e<=Math.max(t,n)&&e>=r}function c(e){return!isNaN(e)}function d(e){return+e}function f(e,t,n){return Math.max(t,Math.min(n,e))}function p(e,t,n,r){var e=e+Math.cos(r)*n,t=t+Math.sin(r)*n;return[e,t]}function h(e,t,n,r){return n=n||0,r=r||0,Math.atan2(r-t,n-e)}function g(e,t,n,r){return n=n||0,r=r||0,Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}t.__esModule=!0,t.toRadians=r,t.toDegrees=a,t.random=o,t.randomBoolean=i,t.randomWeightedKey=l,t.rel=s,t.inRange=u,t.isNumber=c,t.toNumber=d,t.restrict=f,t.getAnglePoint=p,t.getAngle=h,t.getDistance=g},function(e,t,n){"use strict";function r(e,t){switch(typeof e){case"object":e=e||{r:0,g:0,b:0,a:1};break;default:if(e.indexOf("rgb")>=0)e=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(/,\s*/),e={r:e[0],g:e[1],b:e[2],a:Number(e[3])};else{if(!(e.indexOf("#")>=0))return console.log(""),console.log("ERROR: ColorUtils.toRgba does not accept color names such as '"+e+"'. Use HEX or an RGB/A string or object per documentation"),console.log("Returning the color '"+e+"' without any alpha"),console.log(""),e;var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);e=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:n[4]?Number(n[4],16):1}:null}}return e.a||(e.a=1),t>=0&&(e.a=t),e}function a(e,t){var e=r(e,t);return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}function o(e){delete e.to,e=c(e);var t={};for(var n in e.from)if("a"===n)t[n]=parseInt(e.from[n]);else{if("r"===n){var r=0,o=255;for(var i in e.from)parseInt(e.from[i])>r&&(r=parseInt(e.from[i])),parseInt(e.from[i])<o&&(o=parseInt(e.from[i]))}t[n]=Math.round(parseInt(e.from[n])*e.amount+(1-e.amount)*((r+o)/2))}return"object"===e.format?t:a(t)}function i(e){delete e.to,e=c(e);var t={};for(var n in e.from)t[n]="a"===n?parseInt(e.from[n]):Math.round(parseInt(e.from[n])*e.amount);return"object"===e.format?t:a(t)}function l(e){e=c(e);var t={};for(var n in e.from)t[n]="a"===n?parseInt(e.from[n]):Math.round(parseInt(e.from[n])+(parseInt(e.to[n])-parseInt(e.from[n]))*e.amount);return"object"===e.format?t:a(t)}function s(e){e=c(e);var t={};for(var n in e.from)t[n]="a"===n?parseInt(e.from[n]):Math.round(parseInt(e.from[n])-(255-parseInt(e.to[n]))*e.amount);return"object"===e.format?t:a(t)}function u(e){delete e.to,delete e.amount,e=c(e);var t={};for(var n in e.from)t[n]="a"===n?parseInt(e.from[n]):255-parseInt(e.from[n]);return"object"===e.format?t:a(t)}function c(e){return e.from=e.from||e.color,e.from&&"object"!=typeof e.from&&(e.from=r(e.from)),e.to&&"object"!=typeof e.to&&(e.to=r(e.to)),e.amount=void 0===e.amount?1:e.amount,e}t.__esModule=!0,t.toRgba=r,t.toRgbaString=a,t.saturation=o,t.contrast=i,t.tint=l,t.transform=s,t.invert=u},function(e,t,n){"use strict";function r(e,t){return e.concat(t)}function a(e){return e.slice()}function o(e,t){var n=e.slice(0,t),r=e.slice(t,e.length),a=Array.prototype.slice.call(arguments),o=a.slice(2,a.length);return n.concat(o).concat(r)}function i(e,t){var n=a(e);return n.splice(t,1),n}function l(e,t){for(var n=e.slice();n.indexOf(t)>=0;)n=i(n,n.indexOf(t));return n}function s(e){return e.sort(function(){return Math.random()<.5?1:-1})}function u(e,t){return e.indexOf(t)>=0}t.__esModule=!0,t.combine=r,t.copy=a,t.insertAt=o,t.removeAt=i,t.remove=l,t.shuffle=s,t.contains=u},function(e,t,n){"use strict";function r(e,t,n){var r=new Image;void 0===t&&void 0===n?e.style.backgroundPosition="50% 50%":r.onload=function(){function a(t,n){var a=i[t]*(r[n]/r[t]),l=i[t]/r[t],s=i[n]/2-o[n]*l,u=i[n]-a;s>0?s=0:s<u&&(s=u),e.style.backgroundPosition="height"===t?s+"px 0px":"0px "+s+"px"}var o={width:t||0,height:n||0},i={width:e.offsetWidth,height:e.offsetHeight},l=i.width/i.height,s=r.width/r.height;l>s?a("width","height"):l<s&&a("height","width")},r.src=e.style.backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat"}t.__esModule=!0,t.fitImageAtCoordinate=r},function(e,t,n){"use strict";(function(e){function r(e){return("string"==typeof e?c.Markup.get(e):e).innerHTML.length>0}function a(e){"string"==typeof e&&c.Markup.get(e);return c.Styles.getCss(e,"height")/c.Styles.getCss(e,"line-height")}function o(e){for(var t="",n=0;n<e;n++)t+="&nbsp;";return t}function i(t,n){t=e.proxyStringToLowerCase.apply(t);for(var r=0;r<d.length;r++){if(e.proxyStringToLowerCase.apply(d[r].label)===t)return n?d[r].upperCase:d[r].lowerCase}return!1}function l(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):""}function s(e){return e.split(" ").join("")}function u(e,t){var n="";for(e<0&&(n="-"),e=e.toString().replace(/\-/,"",e);e.length<t;)e="0"+e;return n+e}t.__esModule=!0,t.hasText=r,t.numlines=a,t.addSpaces=o,t.getSpecialCharacter=i,t.trimStartAndEnd=l,t.removeSpaces=s,t.pad=u;var c=n(9),d=[{label:"iexcl",upperCase:"&#161;",lowerCase:"&#161;"},{label:"trademark",upperCase:"&#153;",lowerCase:"&#153;"},{label:"copyright",upperCase:"&#169;",lowerCase:"&#169;"},{label:"registered",upperCase:"&#174;",lowerCase:"&#174;"},{label:"nTilde",upperCase:"&#209;",lowerCase:"&#241;"},{label:"aAccent",upperCase:"&#193;",lowerCase:"&#225;"},{label:"eAccent",upperCase:"&#201;",lowerCase:"&#233;"},{label:"iAccent",upperCase:"&#205;",lowerCase:"&#237;"},{label:"oAccent",upperCase:"&#211;",lowerCase:"&#243;"},{label:"uAccent",upperCase:"&#218;",lowerCase:"&#250;"}]}).call(t,n(1))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=new function(){var e=this;e.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},e.enter=function(t){e.isFullScreen()||(t.requestFullscreen?(console.log(" -> requestFullscreen"),t.requestFullscreen()):t.msRequestFullscreen?(console.log(" -> msRequestFullscreen"),t.msRequestFullscreen()):t.mozRequestFullScreen?(console.log(" -> mozRequestFullScreen"),t.mozRequestFullScreen()):t.webkitRequestFullscreen&&(console.log(" -> webkitRequestFullscreen"),t.webkitRequestFullscreen()))},e.exit=function(){e.isFullScreen()&&(document.exitFullscreen?(console.log(" -> exitFullscreen"),document.exitFullscreen()):document.msExitFullscreen?(console.log(" -> msExitFullscreen"),document.msExitFullscreen()):document.mozCancelFullScreen?(console.log(" -> mozCancelFullScreen"),document.mozCancelFullScreen()):document.webkitExitFullscreen&&(console.log(" -> webkitExitFullscreen"),document.webkitExitFullscreen()))}},a=r;t.default=a},function(e,t,n){"use strict";function r(e,t,n,r){if(e=e||a,r||(r={width:0,height:0}),e==a)r.width=t.width,r.height=t.height;else if(e==i)r.width=n.width,r.height=n.height;else{var l=t.width/t.height,s=n.width/n.height,u=e==o?l:s,c=e==o?s:l;u<c?(r.height=t.height/(t.width/n.width),r.width=n.width):(r.width=t.width/(t.height/n.height),r.height=n.height)}return r}t.__esModule=!0,t.resize=r,t.STRETCH=t.FIT=t.FILL=t.EXACT=void 0;var a="auto";t.EXACT=a;var o="cover";t.FILL=o;t.FIT="contain";var i="100% 100%";t.STRETCH=i},function(e,t,n){"use strict";function r(e){e.amount>=0&&d.setCss(e.target,{filter:"blur("+e.amount+"px)"})}function a(e){d.setCss(e.target,{boxShadow:u(e.angle||0,e.distance||0,e.size||0,e.spread||0,e.color||"#000000",e.alpha,e.inner)})}function o(e){d.setCss(e.target,{textShadow:u(e.angle||0,e.distance||0,e.size||0,null,e.color||"#000000",e.alpha)})}function i(e){e.angle=0,e.distance=0,a(e)}function l(e){d.setCss(e.target,{background:"linear-gradient("+(e.angle||0)+"deg, "+e.colors.toString()+")"})}function s(e){d.setCss(e.target,{background:"radial-gradient("+e.colors.toString()+")"})}function u(e,t,n,r,a,o,i){var l="",s=-1*e+180,u=c.MathUtils.toRadians(s);return l+=(Math.cos(u)*t).toFixed(8)+"px ",l+=(Math.sin(u)*t).toFixed(8)+"px ",l+=n+"px",r&&(l+=" "+r+"px"),l+=" "+c.ColorUtils.toRgbaString(a,o),i=!!i,i&&(l+=" inset"),l}t.__esModule=!0,t.blur=r,t.dropShadow=a,t.textDropShadow=o,t.glow=i,t.linearGradient=l,t.radialGradient=s;var c=n(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(10))},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function a(e,t,n,r){var a=i.get(e);r=!1!==r;var s=a.childNodes,u=[],c={};/(x)/gi.exec(t)&&(c.x={}),/(y)/gi.exec(t)&&(c.y={});for(var d=0;d<s.length;d++){var f=s[d];u[d]={};for(var p in c){var h=o.getCss(f,p),g=f[l[p][0]],m=h+g,b=c[p];0==d&&(b.min=h,b.max=m),h<b.min&&(b.min=h),b.max<m&&(b.max=m),u[d][p]=h}}var v={top:0,bottom:0,left:0,right:0};if(n)for(var _ in v)v[_]=isNaN(n)?n[_]||0:n;var y={};for(var p in c){var w=c[p];r&&(y[p]=w.min+o.getCss(a,p)-v[l[p][2]]),y[l[p][1]]=w.max-w.min+v[l[p][2]]+v[l[p][3]]}for(o.setCss(a,y),d=0;d<s.length;d++){var f=s[d],y={};for(var p in c)y[p]=u[d][p]-c[p].min+v[l[p][2]];o.setCss(f,y)}}t.__esModule=!0,t.set=a,t.XY=t.Y=t.X=void 0;var o=r(n(10)),i=r(n(11)),l={x:["offsetWidth","width","left","right"],y:["offsetHeight","height","top","bottom"]};t.X="clampX";t.Y="clampY";t.XY="clampXY"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function a(e,t){var n=e.canvas||s.get(e),r={},a=!1!==t.snap,o=l(e)?0:1;"string"==typeof t&&(t=i(t));for(var f in t)if("x"==f||"y"==f){var p=t[f];if(!p)continue;"string"==typeof p&&(p={type:p});var h,g,m=0,b=!1,v=p.offset||0;if(void 0!==p.against){!0,h=p.against;var _=0;l(h)?h.canvas?_=1:m=u.getCss(h,f):"number"==typeof h?(b=!0,m=h):(m=h[f],_=1),g=c[_][f],p.type===d&&(t[f].outer=!1)}else h=n[c[o].parent],g=c[o][f];var y=n[c[o][f]];switch(e._type){case"arc":case"path":switch(p.type){case d:y=0;break;default:v+=y/2}break;case"text":if("x"===f)switch(e.alignText){case"center":y=0;case"right":y*=-1}}y/=e.qualityScale||1;var w=i(p.type,y,b?0:h[g]/(h.qualityScale||1),!b&&!!t[f].outer);null!=w&&(w+=m+v,r[f]=a?Math.round(w):w)}return r}function o(e,t){var n=a(e,t);if(l(e)){var r=e.canvas||s.get(e);u.setCss(r,n)}else for(var o in n)e[o]=n[o];return n}function i(e,t,n,r){var a=1==arguments.length;switch(e){case"alignBottom":if(r&&(t=0),!a)return n-t;case"alignTop":return a?{y:e}:r?-t:0;case"alignRight":if(r&&(n+=t),!a)return n-t;case"alignLeft":return a?{x:e}:r?-t:0;case"alignCenter":return r&&(n=0),a?{x:e,y:e}:(n-t)/2;default:return null}}function l(e){return e instanceof HTMLElement||void 0!=e.canvas}t.__esModule=!0,t.get=a,t.set=o,t.calculate=i,t.TOP_RIGHT=t.TOP_LEFT=t.BOTTOM_RIGHT=t.BOTTOM_LEFT=t.TOP=t.RIGHT=t.LEFT=t.CENTER=t.BOTTOM=void 0;var s=r(n(11)),u=r(n(10)),c=[{x:"offsetWidth",y:"offsetHeight",parent:"parentNode"},{x:"width",y:"height",parent:"stage"}];t.BOTTOM="alignBottom";var d="alignCenter";t.CENTER=d;t.LEFT="alignLeft";t.RIGHT="alignRight";t.TOP="alignTop";t.BOTTOM_LEFT="alignBottomLeft";t.BOTTOM_RIGHT="alignBottomRight";t.TOP_LEFT="alignTopLeft";t.TOP_RIGHT="alignTopRight"},function(e,t,n){"use strict";(function(e){function n(t){return e.queryParams[t]}t.__esModule=!0,t.getQueryParameterBy=n}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=r(n(23)),o=r(n(6)),i=r(n(5)),l=r(n(17)),s=function(e){var t,n=new l.default,r=this;Object.defineProperties(r,{currentSchedule:{get:function(){var e=t.current.date,n=new a.default({target:e,isStandard:!0,eventDuration:e.eventDuration,callback:e.callback});if(n.isComplete){var r=t.next.date;n=new a.default({target:r,isStandard:!0,eventDuration:r.eventDuration,callback:r.callback})}return n}},current:{get:function(){return r.currentSchedule.current}},currentDate:{get:function(){return r.current.date}},currentLabel:{get:function(){return r.current.label}}}),r.print=function(){t.print()},function(){var r=n.getNow(),l=o.default.getLabels("english").WEEKDAYS_FULL;t=new a.default;for(var s=e.tuneins,u=0;u<s.length;u++)for(var c=s[u],d=c.days,f=r.getDay(),p=0;p<d.length;p++){var h=d[p],g=l.indexOf(h),m=g-f,b=new i.default({datetime:[r.toDateTimeISO().split("T")[0]+"T"+c.startTime+":00",c.timezone]});if(b=o.default.adjust(b,{day:m}),n.isPast(b,r)){var v=o.default.adjust(b,{minute:c.eventDuration});n.isPast(v,r)&&(b=o.default.adjust(b,{day:7}))}b.eventDuration=c.eventDuration,b.callback=c.callback,console.log("\t",b.print()),t.addDate(b)}}()},u=s;t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(){schedule=[]}return e.addSchedule=function(e){console.log("StaticGenerator.addSchedule()");for(var t=e.getDates(!0),n=e.target.outputTimezone.abbr.toUpperCase(),r=0;r<t.length;r++){var a=t[r],o=a.date,i={date:o.toDateTimeISO()+Timezone.toISO(o.outputTimezone,Timezone.getDLS(o)),tz:n,ltz:adParams.defaultTimezone,label:a.standardKey};console.log("\t",o.toFullDateTime(),"\t",a.standardKey),this.schedule.push(i)}},e.dispatchSchedule=function(){console.log("StaticGenerator.dispatchSchedule()\n\t",this.schedule),this.dispatch("setParameters",this.schedule)},e.dispatchSnapshot=function(){console.log("StaticGenerator.dispatchSnapshot()"),this.dispatch("snapshot",{})},e.dispatch=function(e,t){"function"==typeof window.callExternal&&window.callExternal({event:e,data:t})},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){var e=this;e.identity=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.data=new Float32Array(e.identity)};r.prototype={clear:function(){var e=this;e.data.set(e.identity)},rotateX:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),a=new Float32Array(t.identity);return a[5]=n,a[6]=r,a[9]=-r,a[10]=n,t.multiply(a),t},rotateY:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),a=new Float32Array(t.identity);return a[0]=n,a[2]=-r,a[8]=r,a[10]=n,t.multiply(a),t},rotateZ:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),a=new Float32Array(t.identity);return a[0]=n,a[1]=r,a[4]=-r,a[5]=n,t.multiply(a),t},scale:function(e,t){var n=this,r=new Float32Array(n.identity);return r[0]=e,r[5]=t,n.multiply(r),n},skew:function(e,t){var n=this,r=new Float32Array(n.identity);return r[1]=Math.tan(t)||0,r[4]=Math.tan(e)||0,console.log(r[1],r[4]),n.multiply(r),n},translate:function(e,t,n){var r=this,a=new Float32Array(r.identity);return a[12]=e||0,a[13]=t||0,a[14]=n||0,r.multiply(a),this},multiply:function(e){var t=this,n=new Float32Array(t.data);t.data[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8],t.data[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9],t.data[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10],t.data[3]=0,t.data[4]=n[4]*e[0]+n[5]*e[4]+n[6]*e[8],t.data[5]=n[4]*e[1]+n[5]*e[5]+n[6]*e[9],t.data[6]=n[4]*e[2]+n[5]*e[6]+n[6]*e[10],t.data[7]=0,t.data[8]=n[8]*e[0]+n[9]*e[4]+n[10]*e[8],t.data[9]=n[8]*e[1]+n[9]*e[5]+n[10]*e[9],t.data[10]=n[8]*e[2]+n[9]*e[6]+n[10]*e[10],t.data[11]=0,t.data[12]=n[12]*e[0]+n[13]*e[4]+n[14]*e[8]+e[12],t.data[13]=n[12]*e[1]+n[13]*e[5]+n[14]*e[9]+e[13],t.data[14]=n[12]*e[2]+n[13]*e[6]+n[14]*e[10]+e[14],t.data[15]=1},getCss:function(){var e=this;return"matrix3d("+e.data[0]+","+e.data[1]+","+e.data[2]+", 0,"+e.data[4]+","+e.data[5]+","+e.data[6]+", 0,"+e.data[8]+","+e.data[9]+","+e.data[10]+", 0,"+e.data[12]+","+e.data[13]+","+e.data[14]+", 1)"}},r.cssToData=function(e){return e.match(/\(([^\)]+)\)/)[1].replace(/\s/g,"").split(",").map(Number)};var a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(25)),a=n(0),o=function(e){function t(e){var t=e[0]-n.originX,r=e[1]-n.originY,a=t*o.data[0]+r*o.data[3]+o.data[2],i=t*o.data[1]+r*o.data[4]+o.data[5];return a+=n.originX,i+=n.originY,[a,i]}var n=this;e=e||{},n.rotation=e.rotation||0,n.x=e.x||0,n.y=e.y||0,n.scaleX=e.scaleX||1,n.scaleY=e.scaleY||1,n.originX=e.originX||0,n.originY=e.originY||0,n.points=e.points||[],n.calculatedPoints=[];var o=new r.default;console.log(o),n.addPoint=function(e){n.points.push(e)},n.addPoints=function(e){n.points=n.points.concate(e)},n.update=function(e){o.clear(),o.translate(n.x,n.y),o.scale(n.scaleX,n.scaleY),o.rotate(a.MathUtils.toRadians(n.rotation)),n.calculatedPoints=[];for(var r=0;r<this.points.length;r++){var i=t(n.points[r]);n.calculatedPoints.push(i)}return e&&e(n.calculatedPoints),n.calculatedPoints}},i=o;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),a=function(){};Object.defineProperty(a,"rx",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"ry",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a,"MAX_VERTICES",{configurable:!0,enumerable:!0,writable:!0,value:256}),Object.defineProperty(a,"MAX_VERTICES_MASK",{configurable:!0,enumerable:!0,writable:!0,value:255}),Object.defineProperty(a,"get",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return new r.default(a._getVal("x",e),a._getVal("y",t))}}),Object.defineProperty(a,"_init",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var e=0;e<a.MAX_VERTICES;++e)e===a.MAX_VERTICES-1&&(a.rx.push(a.rx[0]),a.ry.push(a.ry[0])),a.rx.push(Math.random()-.5),a.ry.push(Math.random()-.5)}}),Object.defineProperty(a,"_lerp",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,n){return e*(1-n)+t*n}}),Object.defineProperty(a,"_getVal",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){0==a.rx.length&&a._init();var n="x"===e?a.rx:a.ry;t%=a.MAX_VERTICES;var r=t-~~t,o=r*r*(3-2*r),i=~~t&a.MAX_VERTICES_MASK,l=i+1&a.MAX_VERTICES_MASK;return a._lerp(n[i],n[l],o)}});var o=a;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(9),a=new function(){this.createGlobalNode=function(e,t){if(!document.getElementById(e)){var n=document.createElement("style");n.type="text/css",n.id=e;var r=2===arguments.length?t:"";if(arguments.length>2)for(var a=0;a<arguments.length-1;a+=2){var o=arguments[a+1].replace(/\s*/g,"");r+=o,r+=" { "+(arguments[a+2]||"")+" }\n"}n.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(n)}},this.addClass=function(e,t){for(var n=r.Markup.getElement(e),a=0;a<arguments.length-1;a++)n.classList.add(arguments[a+1])},this.removeClass=function(e,t){r.Markup.getElement(e).classList.remove(t)}},o=a;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(30)),a=n(9),o=new function(){function e(e){for(var n=null,r=0;r<u.length;r++)if(u[r].elem===e){n=u[r];break}return n||(n=t(e)),n}function t(e){var t=new r.default(e);return u.push(t),t}function n(t,n){var r=e(t);if(r.hasActiveChildren!=n){r.hasActiveChildren=n;for(var a=r.elem.getElementsByTagName("*"),o=0;o<a.length;o++)a[o].parentNode==t&&(n?s.enable(a[o]):s.disable(a[o]))}}function o(e,t,n,r){e.style.visibility="hidden",r.push(e);for(var a=document.elementFromPoint(t,n),i=0;i<c.length;i++)if(c[i].elem==a)return o(a,t,n,r);return a}function i(e){for(var t=[],n=o(e.target,e.clientX,e.clientY,t),r=0;r<t.length;r++)t[r].style.visibility="visible";return t=[],e.stopImmediatePropagation(),n}function l(e){var t=i(e),n=document.createEvent("HTMLEvents");n.initEvent(e.type,!0,!1),t.dispatchEvent(n)}var s=this,u=[],c=[],d=void 0!=document.createEventObject;s._kills={},s.add=s.addEventListener=function(t,n,r){e(t).register(n,r),a.Styles.setCss(t,"cursor","pointer"),a.Styles.setCss(t,"pointer-events","auto")},s.remove=s.removeEventListener=function(t,n,r){var o=e(t);o&&(o.unregister(n,r),o.eventList.length<=0&&a.Styles.setCss(t,"cursor","auto"))},s.disable=function(t){var n=e(t);c.push(n),d?(n.register(GestureEvent.CLICK,l),a.Styles.setCss(t,"cursor","auto")):a.Styles.setCss(t,"pointer-events","none")},s.disableChildren=function(e){n(e,!1)},s.enable=function(t){for(var n=e(t),r=0;r<c.length;r++)if(n==c[r]){d?n.unregister(GestureEvent.CLICK,l):(a.Styles.setCss(t,"pointer-events","auto"),a.Styles.setCss(t,"cursor","pointer"));break}},s.enableChildren=function(e){n(e,!0)}},i=o;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o={ENABLED:"uiComponentEnabled",RESIZE:"uiResize",SLIDER_UPDATE:"uiSliderUpdate",get componentEnabled(){return r||(r=new CustomEvent("uiComponentEnabled")),r},get sliderUpdate(){return a||(a=new CustomEvent("uiSliderUpdate")),a}},i=o;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32));n(75);var a=function(){};Object.defineProperty(a,"_isPaused",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isActive",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_sets",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(a,"_RAF",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"register",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,n){var o=a;n=n||30,o._sets[n]||(o._sets[n]=new r.default(n));for(var i=o._sets[n].pool,l=0;l<i.length;l++)if(i[l].from===e&&i[l].handler===t)return;i.push({handler:t,from:e}),console.log("pool is now:",i),o._isActive&&o.resume()}}),Object.defineProperty(a,"unregister",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,n){var r=a;for(var o in r._sets)if(!n||o==n){for(var i=r._sets[o].pool,l=0;l<i.length;l++)if(i[l].from===e&&i[l].handler===t){i.splice(l,1);break}0==i.length&&delete r._sets[o]}0===Object.keys(r._sets).length&&(r.pause(),r._isActive=!0)}}),Object.defineProperty(a,"pause",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a;if(arguments.length>0){for(var t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];e._sets[n]&&(e._sets[n]._paused=!0,e._isPaused=!0)}for(var r in e._sets)if(!e._sets[r]._paused){e._isPaused=!1;break}}else{for(var r in e._sets)e._sets[r]._paused=!0;e._isPaused=!0}e._isPaused&&(e._isActive=!1,window.cancelAnimationFrame(e._RAF))}}),Object.defineProperty(a,"resume",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a,t=!e._isPaused;if(arguments.length>0)for(var n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];e._sets[r]&&(e._sets[r]._paused=!1,e._isPaused=!1)}else{for(var o in e._sets)e._sets[o]._paused=!1;e._isPaused=!1}t||(e._isActive=!0,e._RAF=window.requestAnimationFrame(e.tick))}}),Object.defineProperty(a,"secondsAsFrames",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return 1/e}}),Object.defineProperty(a,"tick",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a;if(!e._isPaused){for(var t in e._sets)e._sets[t].tick();window.requestAnimationFrame(e.tick)}}});var o=a;t.default=o},function(e,t){for(var n=/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent),r=["webkit","moz"],a=0;!window.requestAnimationFrame&&a<r.length;a++)window.requestAnimationFrame=window[r[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[a]+"CancelAnimationFrame"]||window[r[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame&&window.cancelAnimationFrame&&!n||(console.log("PolyFill -> FrameRate"),window.requestAnimationFrame=function(e){return setTimeout(e,17)},window.cancelAnimationFrame=clearTimeout)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(28)),o=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(a.default);Object.defineProperty(o,"_init",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.default;Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,e._handleExpandStart),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,e._handleExpandComplete),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,e._handleCollapseStart),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,e._handleCollapseComplete),adParams.expandable.expanded&&Enabler.setStartExpanded(!0)}}),Object.defineProperty(o,"_collapse",{configurable:!0,enumerable:!0,writable:!0,value:function(e){Enabler.requestCollapse(),e&&Enabler.reportManualClose()}}),Object.defineProperty(o,"_expand",{configurable:!0,enumerable:!0,writable:!0,value:function(e){Enabler.requestExpand()}}),Object.defineProperty(o,"_collapseComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(){Enabler.finishCollapse()}}),Object.defineProperty(o,"_expandComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(){Enabler.finishExpand()}});var i=o;t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(78),o=n(2),i=n(13),l=r(n(81)),s=r(n(86)),u=function(){function e(){var e=this;Object.defineProperty(this,"buildInterface",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.createPS(),e.guiInterfaces=[],e.psControl=e.generateControl(e.data.emitterPhysics),e.genertateInterface(e.data.emitterPhysics,e.psControl),e.styleControl=e.generateControl(e.data.styleAnimation),e.genertateInterface(e.data.styleAnimation,e.styleControl),e.activeModels=[];var t=e.generateParticleModelData();e.modelControl=e.generateControl(t),e.modelGui=e.genertateInterface(t,e.modelControl),e.actionControl=e.generateControl(e.data.actions),e.genertateInterface(e.data.actions,e.actionControl),e.interfaceContainer=s.default.getBy(".ac")[0],e.blockGuide=s.default.getBy("#block-guide"),e.codeDisplay=s.default.getBy("#code-display"),e.codeDisplayText=s.default.getBy("#code-display-text"),e.codeClose=s.default.getBy("#code-close"),e.velGuide=s.default.getBy("#velocity-guide"),e.velGuideCtx=e.velGuide.getContext("2d"),e.forceGuide=s.default.getBy("#force-guide"),e.forceGuideCtx=e.forceGuide.getContext("2d"),s.default.setGroupStyle([e.velGuide,e.forceGuide],{left:e.adWidth/2-60+"px",top:e.adHeight/2-60+"px"}),e.codeClose.addEventListener("click",function(){e.codeDisplay.style.display="none"},!1),e.createMoveBtn(),e.createHelpBtn()}}),Object.defineProperty(this,"createMoveBtn",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.interfaceOffset=new o.Vector2D(0,0),e.moveBtn=document.createElement("div"),e.moveBtn.id="move-btn",e.interfaceContainer.appendChild(e.moveBtn),e.moveBtn.addEventListener("mousedown",function(t){e.dragging=!0,e.draggingStart=new o.Vector2D(t.clientX,t.clientY)}),document.body.addEventListener("mousemove",function(t){if(e.dragging){e.draggingOffset=new o.Vector2D(t.clientX,t.clientY).sub(e.draggingStart),e.interfaceOffset.add(e.draggingOffset);var n=e.interfaceOffset.y+"px",r=-1*e.interfaceOffset.x+"px";e.interfaceContainer.style.top=n,e.interfaceContainer.style.right=r,e.draggingStart=new o.Vector2D(t.clientX,t.clientY)}}),document.body.addEventListener("mouseup",function(t){e.dragging=!1})}}),Object.defineProperty(this,"createHelpBtn",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=document.createElement("a");t.id="help-btn",t.href="https://confluence.ff0000.com/display/AT/PARTICLES",t.target="_blank",e.interfaceContainer.appendChild(t)}}),Object.defineProperty(this,"createPS",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.canvasEl=s.default.getBy("#canvas-el"),e.canvasEl.style.width=e.adWidth+"px",e.canvasEl.style.height=e.adHeight+"px",e.canvasEl.width=e.adWidth,e.canvasEl.height=e.adHeight;var t={emitterData:e.emitterData,fps:e.fps};e.PS=new a.Emitter,e.PS.init(e.canvasEl,t),e.PS.emit()}}),Object.defineProperty(this,"getPSProp",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n){if("action"===n)return e.PS[t]||null;var r=e.PS.get(t);return void 0===r?null:r}}),Object.defineProperty(this,"getCode",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.PS.properties,n="export default ";n+=JSON.stringify(t,null,2),e.codeDisplayText.value=n,e.codeDisplay.style.display="block"}}),Object.defineProperty(this,"addParticleModel",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e,n="model"+e.modelIndex,r={name:n,type:"folder",children:e.data.getDefaultNewParticleModelData(n)};e.activeModels.push(n),e.modelIndex++,r.children.forEach(function(e){"object"==typeof e.defaultVal&&(e.defaultVal=JSON.stringify(e.defaultVal,null,1)),t.modelControl[e.name]=e.defaultVal}),e.processData(e.modelControl,e.modelGui,r),e.updateEmitterModels()}}),Object.defineProperty(this,"deleteParticleModel",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=s.default.getBy("#"+t);n.parentNode.removeChild(n);var r;for(r=0;r<e.activeModels.length;r++)if(e.activeModels[r]===t){e.activeModels.splice(r,1);break}e.updateEmitterModels()}}),Object.defineProperty(this,"generateControl",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n,r={};for(n=0;n<t.length;n++){var a=t[n];if("folder"===a.type){var o;for(o=0;o<a.children.length;o++){var i=a.children[o],l=e.syncWithCurrentData(i);r[i.name]=null===l?i.defaultVal:l,"action"===a.type&&(r[a.name]=r[a.name].bind(e.PS))}}else{var l=e.syncWithCurrentData(a);r[a.name]=null===l?a.defaultVal:l,"action"===a.type&&(r[a.name]=r[a.name].bind(e.PS))}}return r}}),Object.defineProperty(this,"generateParticleModelData",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.modelIndex=0;var t,n=e.data.particleModel,r=e.getPSProp("particleModels");for(t=0;t<r.length;t++){var a="model"+e.modelIndex,o=r[t],i={name:a,type:"folder",children:e.data.getDefaultNewParticleModelData(a)};i.children.forEach(function(e){o[e.modelKey]&&(e.defaultVal=o[e.modelKey]),"object"==typeof e.defaultVal&&(e.defaultVal=JSON.stringify(e.defaultVal,null,1)),e.name.indexOf("Delete")>-1&&(e.defaultVal=function(e){return function(){this.deleteParticleModel(e)}}(a))}),n.push(i),e.activeModels.push(a),e.modelIndex++}return n}}),Object.defineProperty(this,"genertateInterface",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n,r=new dat.GUI;for(n=0;n<e.length;n++){var a=e[n];this.processData(t,r,a)}return r}}),Object.defineProperty(this,"processData",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n,r,a){void 0===a&&(a={});var o;switch(r.type){case"text":case"boolean":case"action":"text"===r.type&&"object"==typeof r.defaultVal&&(r.defaultVal=JSON.stringify(r.defaultVal,null,1)),o=n.add(t,r.name),void 0!==r.min&&o.min(r.min),o.onFinishChange(function(t){window.Interface.setEmitterProperty(r,t,a),"world"===a.name&&e.hideGuide(!0)});break;case"color":o=n.addColor(t,r.name),o.onChange(function(e){window.Interface.setEmitterProperty(r,e,a)});break;case"slider":o=n.add(t,r.name,r.range[0],r.range[1]),void 0!==r.step&&o.step(r.step),o.onChange(function(e){window.Interface.setEmitterProperty(r,e,a)}),o.onFinishChange(function(t){switch(a.name){case"world":case"origin":e.hideGuide();break;case"velocityAngle":e.hideVelocityGuide();break;case"globalForce":e.hideForceGuide()}});break;case"dropdown":o=n.add(t,r.name,r.options),o.onFinishChange(function(t){window.Interface.setEmitterProperty(r,t,a),"origin"===a.name&&e.hideGuide(!0)});break;case"folder":var i,l=n.addFolder(r.name);for(i=0;i<r.children.length;i++)e.processData(t,l,r.children[i],r)}}}),Object.defineProperty(this,"setEmitterProperty",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n,r){if("action"!==t.type){r=r||{};var a=t.map||t.name,o=e.psControl;switch(r.name){case"world":("worldActive"!==t.name||n)&&e.showGuide(o.left,o.top,o.right-o.left,o.bottom-o.top);break;case"origin":var i=o.originXRange/2,l=o.originYRange/2,s=o.originX-i,u=o.originY-l;e.showGuide(s,u,o.originX+i-s,o.originY+l-u,o.originShape);break;case"velocityAngle":var c=o.angleRange/2;e.showVelocityGuide(o.angleValue-c,o.angleValue+c);break;case"globalForce":e.showForceGuide(o.forceAngle)}if("string"==typeof n){var d=n.replace(/\s+/g,"");if("["===d[0]&&"]"===d[d.length-1]){d=d.substr(1),d=d.slice(0,d.length-1);var f,p=d.split(",{"),h=[];for(f=0;f<p.length;f++){var g=p[f];if(0!==f&&(g="{"+g),0!==g.trim().length)try{h.push(JSON.parse(g))}catch(e){return void alert("This is not a valid input.")}}n=h}}var d=r.name||"";0===d.indexOf("model")?e.updateEmitterModels():e.PS.set(a,n)}}}),Object.defineProperty(this,"syncWithCurrentData",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=t.map||t.name,r=null;switch(t.name){case"bgImage":r=e.getPSProp("background.image")||e.images[0]||"",e.PS.set("background.image",r);break;default:r=e.getPSProp(n,t.type)}if("object"==typeof r&&null!==r){var a,o="[\n";for(a=0;a<r.length;a++)o+=" ",o+=JSON.stringify(r[a]),a<r.length-1&&(o+=", ",o+="\n");o+="\n]",r=o}return void 0===r&&(r=null),r}}),Object.defineProperty(this,"showGuide",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n,r,a,o){var i={left:t+"px",top:n+"px",width:r+"px",height:a+"px"};s.default.setStyle(e.blockGuide,i),s.default.addClass(e.blockGuide,"show"),"oval"===o&&s.default.addClass(e.blockGuide,"oval")}}),this.adWidth=(0,i.get)("adWidth"),this.adHeight=(0,i.get)("adHeight"),this.emitterData=(0,i.get)("emitterDataContent"),this.fps=(0,i.get)("fps");var t=(0,i.get)("loadedImageDict");this.images=Object.keys(t).map(function(e){return e}),this.data=(0,l.default)(this),this.buildInterface()}var t=e.prototype;return t.updateEmitterModels=function(){var e,t=[],n=this.modelControl;for(e=0;e<this.activeModels.length;e++){var r=this.activeModels[e],a={};a.type=n[r+"Type"],a.id=n[r+"Id"],a.width=n[r+"Width"],"Image"===a.type&&(a.image=n[r+"ImageName"]),"Sprite"===a.type&&(a.image=n[r+"ImageName"],a.spriteSetting=JSON.parse(n[r+"SpriteSetting"])),"Rect"===a.type&&(a.height=n[r+"Height"]),a.probability=n[r+"Probability"],a.properties=JSON.parse(n[r+"Props"]),t.push(a)}this.PS.set("particleModels",t)},t.hideGuide=function(e){var t=this,n=e?500:0;setTimeout(function(){s.default.removeClass(t.blockGuide,"show"),s.default.removeClass(t.blockGuide,"oval")},n)},t.showVelocityGuide=function(e,t){s.default.addClass(this.velGuide,"show");var n=this.velGuideCtx,r=new o.Vector2D(60,60);o.Vector2D.degreeToVector(e),o.Vector2D.degreeToVector(t);n.clearRect(0,0,120,120),n.beginPath(),n.moveTo(r.x,r.y),n.arc(r.x,r.y,60,0,2*Math.PI),n.lineTo(r.x,r.y),n.fillStyle="rgba( 255, 255, 255, .4 )",n.fill(),n.closePath(),n.beginPath(),n.moveTo(r.x,r.y),n.arc(r.x,r.y,58,MathUtils.toRadians(e),MathUtils.toRadians(t)),n.lineTo(r.x,r.y),n.strokeStyle="rgba( 0, 0, 0, .5 )",n.fillStyle="rgba( 0, 200, 255, .4 )",n.lineWidth=2,n.fill(),n.stroke(),n.closePath()},t.showForceGuide=function(e){s.default.addClass(this.forceGuide,"show");var t=this.forceGuideCtx,n=new o.Vector2D(60,60),r=o.Vector2D.degreeToVector(e);r.mult(60),r.add(n),t.clearRect(0,0,120,120),t.beginPath(),t.arc(n.x,n.y,60,0,2*Math.PI),t.strokeStyle="rgba( 0, 0, 0, 0)",t.fillStyle="rgba( 255, 255, 255, 0.3 )",t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.arc(n.x,n.y,5,0,2*Math.PI),t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),t.strokeStyle="rgba( 0, 0, 0, 1 )",t.fillStyle="rgba( 255, 255, 255, .4 )",t.lineWidth=2,t.fill(),t.stroke(),t.closePath()},t.hideVelocityGuide=function(){s.default.removeClass(this.velGuide,"show")},t.hideForceGuide=function(){s.default.removeClass(this.forceGuide,"show")},e}(),c=u;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ParticlesUtils=t.ParticleModel=t.Particle=t.Graphic=t.Emitter=void 0;var a=r(n(79));t.Emitter=a.default;var o=r(n(20));t.Graphic=o.default;var i=r(n(33));t.Particle=i.default;var l=r(n(18));t.ParticleModel=l.default;var s=r(n(19));t.ParticlesUtils=s.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=n(2),o=n(29),i=n(0),l=n(14),s=r(n(33)),u=r(n(18)),c=r(n(20)),d=function(){var e=this;e.G=new a.Vector2D(0,.1),e.customBehaiver={emitter:[],particle:[]},e.init=function(t,n){n=n||{};var r=n.emitterData;e.fps=n.fps||60,e.canvas=t,e.ctx=t.getContext("2d"),e.ctxWidth=t.width,e.ctxHeight=t.height,e.active=!1,e.frameCount=0,e.startEmitFrame=0,e.frameEmittedCount=0,e.liveParticles=[],e.particles=[],e.models=[],e.properties={},e.setProperties(r),e._drawBackground(),o.FrameRate.register(e,e._run,e.fps)},e.set=function(t,n,r){r=void 0===r||r,i.ObjectUtils.objectifier.set(t,n,e.properties),r&&e._afterPropertyChanged([t.split(".")[0]])},e.get=function(t){return i.ObjectUtils.objectifier.get(t,e.properties)},e.setProperties=function(t){var n=[];for(var r in t)e.set(r,t[r],!1),n.push(r.split(".")[0]);e._afterPropertyChanged(n)},e.addCustomBehavier=function(e,t){this.customBehaiver[e].push(t)},this.removeCustomBehavier=function(e,t){var n,r=this.customBehaiver[e];for(n=0;n<r.length;n++)r[n]===t&&this.customBehaiver[e].splice(n,1)},e.emit=function(){e.active=!0,e.startEmitFrame=e.frameCount,0===e.properties.emitRate&&e.createParticles(e.properties.emitAmount)},e.stopEmitting=function(){e.active=!1},e.empty=function(){e.particles.forEach(function(e){null}),e.particles=[]},e.pause=function(){o.FrameRate.unregister(e,e._run)},e.resume=function(){o.FrameRate.register(e,e._run,e.fps)},e.tween={},e.tween.to=function(t,n){n=n||{};var r=n.onUpdate||null,a=n.delay||0;return delete n.delay,TweenLite.delayedCall(a,function(){var a={};for(var o in n)void 0!==e.get(o)&&(a[o]=e.get(o));n.onUpdate=function(){r&&r(),e.setProperties(a)},TweenLite.to(a,t,n)})},e.createParticles=function(t){if(e.frameEmittedCount++,!(e.models.length<=0)){var n,r=e.properties,a=e.probabilityMap;for(n=0;n<t;n++){var o,l=e.models;if(e.particles.length>=r.maxParticleAmount)return;if(r.pickRandomModel){var u,c=i.MathUtils.random(0,e.totalProbability,.01);for(u=0;u<a.length-1;u++)if(i.MathUtils.inRange(c,a[u],a[u+1])){o=u;break}}else o=(e.frameEmittedCount-1)%l.length;e.particles.push(new s.default(e.ctx,l[o],e.fps))}}},e.addModel=function(t){e.properties.particleModels.push(t),e._afterPropertyChanged(["particleModels"])},e.removeModel=function(t){var n,r=null,a=e.properties.particleModels;for(n=0;n<a.length;n++)if(t===a[n].id){r=n;break}null!==r&&(a.splice(r,1),e._afterPropertyChanged(["particleModels"]))},e._drawBackground=function(){var t=e.properties,n=t.background;if(t.clearCanvas){switch(e.frameCount>0&&(e.ctx.globalAlpha=n.alpha),n.type){case"color":e.ctx.beginPath(),e.ctx.rect(0,0,e.ctxWidth,e.ctxHeight),e.ctx.fillStyle=n.color,e.ctx.fill(),e.ctx.closePath();break;case"image":e.ctx.drawImage(l.ImageManager.get(n.image),0,0,e.ctxWidth,e.ctxHeight);break;default:e.ctx.clearRect(0,0,e.ctxWidth,e.ctxHeight)}e.ctx.globalAlpha=1}},e._afterPropertyChanged=function(t){if(void 0===t&&(t=[]),t.indexOf("globalForce")>-1){var n=e.properties.globalForce;e._globalForce=a.Vector2D.degreeToVector(n.angle).mult(n.amount)}if(t.indexOf("particleModels")>-1){e.models=[],e.totalProbability=0;for(var r=[],o=e.properties.particleModels,i=0;i<o.length;i++){var s,d,f=o[i];switch(f.type){case"Image":s=new c.default[f.type](l.ImageManager.get(f.image),f.width,f.style);break;case"Sprite":s=new c.default[f.type](l.ImageManager.get(f.image),f.width,f.style,f.spriteSetting);break;case"Circle":s=new c.default[f.type](f.width,f.style);break;case"Rect":s=new c.default[f.type](f.width,f.height,f.style)}d=new u.default(s,f.properties),d.setDefaultProperties(e.properties),e.models.push(d),r.push(e.totalProbability);var p=void 0===f.probability?1:f.probability;e.totalProbability+=p}r.push(e.totalProbability),e.probabilityMap=r}else{var h=e.properties;e.models.forEach(function(e){e.setDefaultProperties(h)})}}.bind(e),e._run=function(){var t=e.properties;e._drawBackground();var n;for(n=0;n<e.particles.length;n++){var r=this.particles[n];if(r.isDead(e.ctxWidth,e.ctxHeight,t.killIfOutOfCanvas))r=null;else{if(e.liveParticles.push(r),r.update(),r.applyForce(e._globalForce),0!==t.gravityAmount){var a=e.G.clone();a.mult(t.gravityAmount),r.applyForce(a)}if(t.world.active&&r.checkWorld(t.world.value),0!==e.customBehaiver.particle){var o;for(o=0;o<e.customBehaiver.particle.length;o++)var i=e.customBehaiver.particle[o].call(i,r,e.particles)}r.render()}}if(e.particles=e.liveParticles,e.liveParticles=[],0!==e.customBehaiver.emitter){var o;for(o=0;o<e.customBehaiver.emitter.length;o++)var i=e.customBehaiver.emitter[o].call(i,e)}if(e.active){(e.frameCount-e.startEmitFrame)%~~(1/t.emitRate)==0&&e.createParticles(t.emitAmount)}e.frameCount++}},f=d;t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={particleModels:[{type:"Circle",id:"model0",image:"",width:8,height:10,probability:1,properties:{}}],pickRandomModel:!0,maxParticleAmount:800,emitRate:.7,emitAmount:1,killIfOutOfCanvas:!0,background:{type:"none",color:"#005a66",image:"",alpha:1},clearCanvas:!0,world:{active:!1,value:[0,300,0,250]},globalForce:{angle:20,amount:0},gravityAmount:0,bounceAmount:.3,origin:{value:{x:60,y:60},range:{x:60,y:60},shape:"rect"},lifeSpan:{value:2,range:0},velocityAngle:{value:270,range:120},speed:{value:1,range:.1},turbulence:{rate:.01,xAmplitude:0,yAmplitude:0},maxSpeed:30,acceleration:0,alpha:{value:1,range:0},scale:{value:1,range:.4},rotation:{value:0,range:100},transformOrigin:{x:.5,y:.5},color:{value:[200,200,200],range:[90,90,90]},animations:{alpha:{loop:!1,duration:"max",steps:[{s:0,v:0},{s:.05,v:1},{s:.95,v:1},{s:1,v:0}]},scale:{loop:!0,duration:"max",steps:[]},rotation:{loop:!0,duration:.5,steps:[]}}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var a=r(n(82)),o=r(n(83)),i=r(n(84)),l=n(85),s=function(e){return{actions:(0,a.default)(e),emitterPhysics:o.default,styleAnimation:(0,i.default)(e),particleModel:(0,l.getParticleModelAction)(e),getDefaultNewParticleModelData:(0,l.getDefaultNewParticleModelData)(e)}},u=s;t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return[{name:"emit",type:"action",defaultVal:function(){e.PS.emit()}},{name:"stopEmitting",type:"action",defaultVal:function(){e.PS.stopEmitting()}},{name:"pause",type:"action",defaultVal:function(){e.PS.pause()}},{name:"resume",type:"action",defaultVal:function(){e.PS.resume()}},{name:"empty",type:"action",defaultVal:function(){e.PS.empty()}},{name:"getCode",type:"action",defaultVal:function(){e.getCode()}}]},a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=[{name:"pickRandomModel",type:"boolean",defaultVal:!0},{name:"maxParticleAmount",type:"slider",range:[0,1500],defaultVal:300,step:1},{name:"emitRate",type:"slider",range:[0,1],defaultVal:.1,step:.01},{name:"emitAmount",type:"slider",range:[0,50],defaultVal:1,step:1},{name:"killIfOutOfCanvas",type:"boolean",defaultVal:!1},{name:"world",type:"folder",children:[{name:"worldActive",type:"boolean",map:"world.active",defaultVal:!1,step:1},{name:"left",type:"slider",map:"world.value.0",defaultVal:0,range:[-200,1500],step:1},{name:"right",type:"slider",map:"world.value.1",defaultVal:300,range:[-200,1500],step:1},{name:"top",type:"slider",map:"world.value.2",defaultVal:0,range:[-200,1500],step:1},{name:"bottom",type:"slider",map:"world.value.3",defaultVal:300,range:[-500,1500],step:1}]},{name:"gravityAmount",type:"slider",range:[-5,5],defaultVal:.1,step:.01},{name:"bounceAmount",type:"slider",range:[0,.9],defaultVal:.1,step:.01},{name:"globalForce",type:"folder",map:"globalForce",children:[{name:"forceAngle",type:"slider",map:"globalForce.angle",defaultVal:0,range:[0,359],step:1},{name:"forceAmount",type:"slider",map:"globalForce.amount",defaultVal:.05,range:[0,.5],step:.01}]},{name:"origin",type:"folder",children:[{name:"originShape",type:"dropdown",map:"origin.shape",options:["rect","oval"]},{name:"originX",type:"slider",map:"origin.value.x",defaultVal:200,range:[-1e3,1e3]},{name:"originY",type:"slider",map:"origin.value.y",defaultVal:200,range:[-1e3,1e3]},{name:"originXRange",type:"slider",map:"origin.range.x",defaultVal:0,range:[0,1e3]},{name:"originYRange",type:"slider",map:"origin.range.y",defaultVal:0,range:[0,1e3]}]},{name:"life span",type:"folder",children:[{name:"lifeSpanValue",type:"slider",map:"lifeSpan.value",defaultVal:2,range:[.1,60]},{name:"lifeSpanRange",type:"slider",map:"lifeSpan.range",defaultVal:0,range:[0,50]}]},{name:"velocityAngle",type:"folder",children:[{name:"angleValue",type:"slider",map:"velocityAngle.value",defaultVal:.1,range:[0,359],step:1},{name:"angleRange",type:"slider",map:"velocityAngle.range",defaultVal:.1,range:[0,359],step:1}]},{name:"speed",type:"folder",children:[{name:"speedValue",type:"slider",map:"speed.value",defaultVal:1,range:[0,20],step:.1},{name:"speedRange",type:"slider",map:"speed.range",defaultVal:0,range:[0,20],step:.1}]},{name:"acceleration",type:"slider",range:[-.1,.1],defaultVal:.001,step:.01},{name:"maxSpeed",type:"slider",range:[0,50],defaultVal:30,step:.1},{name:"turbulence",type:"folder",children:[{name:"tRate",type:"slider",map:"turbulence.rate",defaultVal:.05,range:[0,.2],step:.01},{name:"xAmplitude",type:"slider",map:"turbulence.xAmplitude",defaultVal:.1,range:[0,10],step:.01},{name:"yAmplitude",type:"slider",map:"turbulence.yAmplitude",defaultVal:.1,range:[0,10],step:.01}]}];t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(13),a=function(){return[{name:"background",type:"folder",children:[{name:"bgType",type:"dropdown",map:"background.type",defaultVal:"none",options:["none","color","image"]},{name:"bgColor",type:"color",map:"background.color",defaultVal:"#ff0000"},{name:"bgImage",type:"dropdown",map:"background.image",defaultVal:"",options:(0,r.get)("loadedImageDict")},{name:"bgAlpha",type:"slider",map:"background.alpha",range:[0,1],defaultVal:1}]},{name:"clearCanvas",type:"boolean",defaultVal:!0},{name:"alpha",type:"folder",children:[{name:"alphaValue",type:"slider",map:"alpha.value",defaultVal:.95,range:[0,1],step:.01},{name:"alphaRange",type:"slider",map:"alpha.range",defaultVal:.15,range:[0,1],step:.01}]},{name:"transformOrigin",type:"folder",children:[{name:"originX",type:"slider",map:"transformOrigin.x",defaultVal:.5,range:[-1,2],step:.01},{name:"originY",type:"slider",map:"transformOrigin.y",defaultVal:.5,range:[-1,2],step:.01}]},{name:"scale",type:"folder",children:[{name:"scaleValue",type:"slider",map:"scale.value",defaultVal:1.5,range:[0,10],step:.01},{name:"scaleRange",type:"slider",map:"scale.range",defaultVal:.15,range:[0,10],step:.01}]},{name:"rotation",type:"folder",children:[{name:"rotationValue",type:"slider",map:"rotation.value",defaultVal:0,range:[-360,360],step:1},{name:"rotationRange",type:"slider",map:"rotation.range",defaultVal:0,range:[0,360],step:1}]},{name:"color",type:"folder",children:[{name:"colorValueR",type:"slider",map:"color.value.0",defaultVal:255,range:[0,255],step:1},{name:"colorValueG",type:"slider",map:"color.value.1",defaultVal:100,range:[0,255],step:1},{name:"colorValueB",type:"slider",map:"color.value.2",defaultVal:100,range:[0,255],step:1},{name:"colorRangeR",type:"slider",map:"color.range.0",defaultVal:255,range:[0,255],step:1},{name:"colorRangeG",type:"slider",map:"color.range.1",defaultVal:100,range:[0,255],step:1},{name:"colorRangeB",type:"slider",map:"color.range.2",defaultVal:100,range:[0,255],step:1}]},{name:"alphaAnimation",type:"folder",children:[{name:"alphaLoop",type:"boolean",map:"animations.alpha.loop",defaultVal:!0},{name:"alphaDuration",type:"text",map:"animations.alpha.duration",defaultVal:"max"},{name:"alphaSteps",type:"text",map:"animations.alpha.steps",defaultVal:""}]},{name:"scaleAnimation",type:"folder",children:[{name:"scaleLoop",type:"boolean",map:"animations.scale.loop",defaultVal:!0},{name:"scaleDuration",type:"text",map:"animations.scale.duration",defaultVal:"max"},{name:"scaleSteps",type:"text",map:"animations.scale.steps",defaultVal:"{ r: 0, v: -1 },{ r: 0.1, v: 0 },{ r: 0.9, v: 0 },{ r: 1, v: -1 }"}]},{name:"rotationAnimation",type:"folder",children:[{name:"rotationLoop",type:"boolean",map:"animations.rotation.loop",defaultVal:!0},{name:"rotationDuration",type:"text",map:"animations.rotation.duration",defaultVal:"max"},{name:"rotationSteps",type:"text",map:"animations.rotation.steps",defaultVal:"{ r: 0, v: -1 },{ r: 0.1, v: 0 },{ r: 0.9, v: 0 },{ r: 1, v: -1 }"}]}]},o=a;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultNewParticleModelData=t.getParticleModelAction=void 0;var r=(n(13),function(e){return[{name:"addParticleModel",type:"action",defaultVal:function(){e.addParticleModel()}}]});t.getParticleModelAction=r;var a=function(e){var t=e.images;return function(n){return[{name:n+"Type",type:"dropdown",defaultVal:"Circle",options:["Image","Circle","Rect","Sprite"],modelKey:"type"},{name:n+"ImageName",type:"dropdown",defaultVal:t[0]||"",options:t,modelKey:"image"},{name:n+"Width",type:"text",defaultVal:10,min:0,modelKey:"width"},{name:n+"Height",type:"text",defaultVal:10,min:0,modelKey:"height"},{name:n+"Probability",type:"slider",range:[.1,50],defaultVal:1,min:.1,modelKey:"probability"},{name:n+"Props",type:"text",defaultVal:"{}",modelKey:"properties"},{name:n+"SpriteSetting",type:"text",defaultVal:{frameWidth:0,frameHeight:0,frameNumber:1,speed:.2,loop:!0},modelKey:"spriteSetting"},{name:n+"Id",type:"text",defaultVal:n,modelKey:"id"},{name:n+"Delete",type:"action",modelKey:null,defaultVal:function(){e.deleteParticleModel(n)}}]}};t.getDefaultNewParticleModelData=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={create:function(e){return document.createElement(e)},addClass:function(e,t){e.classList.add(t)},removeClass:function(e,t){e.classList.remove(t)},getBy:function(e){switch(!0){case"#"===e[0]:return document.getElementById(e.replace("#",""));case"."===e[0]:return document.getElementsByClassName(e.replace(".",""));default:return document.getElementsByTagName(e)}},setStyle:function(e,t){for(var n in t)e.style[n]=t[n]},setGroupStyle:function(e,t){var n;for(n=0;n<e.length;n++)this.setStyle(e[n],t)}},a=r;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.mergePath=t.parseAdSize=t.getAdPathFromUrl=t.getParamInQueryString=void 0;var r=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))};t.getParamInQueryString=r;var a=function(){var e=window.location,t=e.origin,n=e.pathname;return i(t,"1-build",n)};t.getAdPathFromUrl=a;var o=function(e){var t=/(\d+)x(\d+)/;if(t.test(e)){var n=t.exec(e);return{width:n[1],height:n[2]}}return null};t.parseAdSize=o;var i=function(){for(var e="",t=/\/+$/g,n=/^\/+|\/+$/g,r=0;r<arguments.length;r++){var a=arguments[r],o="";o=0===r?a.replace(t,""):a.replace(n,""),e+=o+"/"}return e=e.replace(t,"")};t.mergePath=i}]);